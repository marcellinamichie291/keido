+++
title = "ğŸ“ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³(FSM)"
lastmod = 2022-10-31T13:06:24+09:00
draft = false
+++

-   up: [ğŸ“ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°]({{< relref "20220310100122.md" >}})
-   links
    -   [æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³ - Wikipedia](https://ja.wikipedia.org/wiki/%E6%9C%89%E9%99%90%E3%82%AA%E3%83%BC%E3%83%88%E3%83%9E%E3%83%88%E3%83%B3)


## ğŸ“ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³(æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³/Finate State Machine/FSM) {#0ace61}

æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³(finate automation). æœ‰é™çŠ¶æ…‹æ©Ÿæ¢°(Finite State Machine, FSM).

> An FSM is defined by a list of its states, its initial state, and the inputs that trigger each transition.

çŠ¶æ…‹é·ç§»ã«ç§©åºã‚’ã‚‚ãŸã‚‰ã™.

æ—¥æœ¬èªã ã¨ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã¨ã„ã†å˜èªã§Topicã«ä¸ŠãŒã‚‹ã“ã¨ãŒã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã§ã¯å¤šã„å°è±¡ã‚’å—ã‘ã‚‹(ã“ã®ãƒ¡ãƒ¢ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚‚ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã«ã—ãŸ).

æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³è‡ªä½“ã¯å¤ãã‹ã‚‰è¨ˆç®—æ©Ÿç§‘å­¦ã®åˆ†é‡ã¨ã—ã¦ç ”ç©¶ã•ã‚Œã¦ãã¦ãŠã‚Š, ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã¨ã„ã†ã‚ˆã‚Šã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®å›è·¯è¨­è¨ˆã¨ã‹ã«é©å¿œã•ã‚Œã¦ããŸæ­´å²ãŒã‚ã‚‹.


### 2ç¨®é¡ã®FSM {#e2839a}

2ã¤ã®ã‚µãƒ–ç¨®é¡ã«åˆ†é¡ã§ãã‚‹

-   Deterministic finite-state machines: [ğŸ“æ±ºå®šæ€§æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³](#5d175717-2846-4d5a-95e7-23d822fd2ea5)
-   non-deterministic finite state machines


### FSMã®åŸºç¤æ¦‚å¿µ {#f9f55b}

çŠ¶æ…‹é·ç§»ã®ãŸã‚ã®åˆ¶å¾¡æ–¹æ³•. ä»¥ä¸‹ã® 5 ã¤ã®æ§‹æˆè¦ç´ ã‹ã‚‰ãªã‚‹.

-   Inputs
-   Outputs
-   States
-   State Transition Graph (STG)
    -   Tree
    -   Matrix
-   Output Determination

---

[What is a state machine? - Statecharts](https://statecharts.dev/what-is-a-state-machine.html)
[Finite-state machine - Wikipedia](https://en.wikipedia.org/wiki/Finite-state_machine)


#### state {#9ed39e}

> A state is a description of the status of a system that is waiting to execute a transition.

stateã®ä¸€ç•ªsimpleãªä¾‹ã¯on/offã®ï¼’ã¤. ã“ã‚Œã¯booleanã®å€¤(true/false)ã§è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹. [ãƒ•ãƒ©ã‚°]({{< relref "20221029173301.md#6892c473-44fc-46bf-a91f-e19292b06ef1" >}}).

å˜ä¸€ã®çŠ¶æ…‹å¤‰æ•°ã§ã¯ãªã, è¤‡æ•°ã®çŠ¶æ…‹å¤‰æ•°ã®é›†åˆã‚‚, çŠ¶æ…‹ã¨å‘¼ã¶ã“ã¨ãŒå‡ºæ¥ã‚‹. Wikipediaã‚ˆã‚Š.

> Program state is the set of all variables in a program and their values at any point in time.


#### transition {#1e3057}

ã‚ã‚‹stateã‹ã‚‰åˆ¥ã®stateã«ç§»ã‚‹ã“ã¨. ãã®é·ç§»ã®ãƒˆãƒªã‚¬ãƒ¼ã‚’eventã¨ã„ã†.


#### event {#411963}

ãªã«ã‹ãŒèµ·ã“ã‚ŠFSMã«é€šçŸ¥ã•ã‚ŒãŸã¨ã, ãã‚Œã¯FSMã‹ã‚‰è¦‹ã‚‹ã¨å¤–éƒ¨ã‹ã‚‰ã®eventã¨ãªã‚‹.

-   External Events: APIã‚’å©ã„ãŸã‚ã¨ã«æˆ»ã£ã¦ããŸã‚¤ãƒ™ãƒ³ãƒˆ
-   Internal Events: machineå†…éƒ¨ã§è‡ªåˆ†ã§ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ
    -   action.
    -   å®Œäº†é€šçŸ¥(done event).


#### machine {#14754f}

states, transitionsã®é›†åˆ.

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã«ãŠã‘ã‚‹ã‚¯ãƒ©ã‚¹ã®æ¦‚å¿µã‹ã‚‰ã®é¡æ¨ã§æ‰ãˆã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã‹ã‚‚ã—ã‚Œãªã„. ã‚¯ãƒ©ã‚¹ã¨ã¯ãƒ‡ãƒ¼ã‚¿ã¨æ“ä½œã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å˜ä½ã§é›†ã‚ãŸã‚‚ã®.

[ğŸ’¡ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨](#d78f2eb9-54cc-48c6-a2c6-ea0c2da76246)


### FSMã®å¿œç”¨æ¦‚å¿µ {#c75730}

ã—ã°ã—ã°å®Ÿè·µçš„å·¥å¤«ã¨ã—ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãŸãã„ã®ã‚‚ã®.

Actorãƒ¢ãƒ‡ãƒ«ãŒé–¢ä¿‚ã—ã¦ã‚‹.

[Actors, actions and invoked actors | XState Docs](https://xstate.js.org/docs/about/glossary.html#actors-actions-and-invoked-actors)


#### actor {#8e6256}

ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã¨ã¯, Actorã®å®Ÿè¡Œå¯èƒ½ãƒ¢ãƒ‡ãƒ«ã¨æ‰ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹.

ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨, ãã‚Œã¯Actorã¨ã—ã¦æŒ¯ã‚‹èˆã†. ã™ãªã‚ã¡, streamã«èª­ã¿æ›¸ãã™ã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã‚ã‚Š, æƒ…å ±ã‚’ä»–ã®Threadã«sendã—ãŸã‚Šrecieveã™ã‚‹ã“ã¨ãŒã§ãã‚‹(å¤–éƒ¨ã¸ã®å‰¯ä½œç”¨).

ref. [ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã‚¢ã‚¯ã‚¿ãƒ¼ã‚’å®šç¾©ã™ã‚‹ã“ã¨](#76dbb5c6-8f7c-496c-9c44-43f0a7f6d8ad)

-   running
    -   runningã—ã¤ã¥ã‘ã‚‹ã¨ã„ã†ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã§serviceã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹.
-   activity
    -   startã¨endãŒã‚ã‚‹ã¨ã„ã†ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã§activityã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹.


#### action {#418c55}

(å¤–ã®ä¸–ç•Œã§ã¯ãªã)FSMãŒã‚­ãƒƒã‚¯ã—ãŸevent. raised eventã¨ã‚‚.

ä¸€èˆ¬çš„ã«ã¯ã“ã‚Œã‚’[Side effect: å‰¯ä½œç”¨]({{< relref "20220305080412.md#e334d0ca-152e-45c9-bf99-76d0601f6cd6" >}})ã¨ã„ã†.

2ç¨®é¡ã®actionãŒã‚ã‚‹.

-   transition actions
    -   transitionä¸­ã«å®Ÿè¡Œã•ã‚Œã‚‹action.
    -   éåŒæœŸã§æƒ…å ±å–å¾—ã™ã‚‹ã‚ˆã†ãªå‡¦ç†ã‚‚ã“ã“.
-   entry/exit actions
    -   transitionã®é–‹å§‹(entry)ã‚„çµ‚äº†(exit)ã§èµ·ã“ã‚‹action.
    -   entry/exitã§èµ·å‹•ã•ã‚ŒãŸactionã¯å¤–éƒ¨ã®å‡¦ç†ã¨ã—ã¦å¿˜ã‚Œã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹.
    -   fire-and-forget.


#### Invoking {#f821e9}

ã—ã°ã—ã°transition actionã‚’èµ·å‹•ã™ã‚‹ã“ã¨ã‚’invokeã¨è¡¨ç¾ã™ã‚‹.

XStateã®è¨˜äº‹ã«ã¯invokingã®ç¨®é¡ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹.

[Invoking Services | XState Docs](https://xstate.js.org/docs/guides/communication.html#the-invoke-property)

ã—ã°ã—ã°onDone(onSuccess)/onErrorã¿ãŸã„ãªã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®optionã‚’ä¼´ã†.


#### Stream(EventQueue) {#14efe3}

ã“ã‚Œã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢å®Ÿè£…ä¸Šã®å·¥å¤«.

ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã«eventã‚’é€šçŸ¥ã™ã‚‹éš›ã®ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ã«ã¤ã‹ã†ãƒ‡ãƒ¼ã‚¿æ§‹é€ .

å¤–éƒ¨ã‹ã‚‰ã®external eventsã‚„å†…éƒ¨ã‹ã‚‰raiseã•ã‚ŒãŸinternal eventsã‚’ä¸Šæ‰‹ãå‡¦ç†ã™ã‚‹å…¥å£.


### ğŸ“æ±ºå®šæ€§æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³ {#5d175717-2846-4d5a-95e7-23d822fd2ea5}

Deterministic Finate Automaton. DFAã¨ã‚‚ã„ã‚ã‚Œã‚‹.

çŠ¶æ…‹ã¨å…¥åŠ›ã«ã‚ˆã£ã¦æ¬¡ã«é·ç§»ã™ã‚‹ã¹ãçŠ¶æ…‹ãŒ **ä¸€æ„ã«** å®šã¾ã‚‹æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³.

[æ±ºå®šæ€§æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³ - Wikipedia](https://ja.wikipedia.org/wiki/%E6%B1%BA%E5%AE%9A%E6%80%A7%E6%9C%89%E9%99%90%E3%82%AA%E3%83%BC%E3%83%88%E3%83%9E%E3%83%88%E3%83%B3)

[ğŸ”–deterministic]({{< relref "20221008195738.md#d43f706e-14bd-40dc-9f12-b6405efbcb0b" >}})


### ğŸ“çŠ¶æ…‹é·ç§»å›³ {#a250f998-cb6d-451f-a6ce-00833eacf035}

æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³ã‚’ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ã«è¡¨ç¾ã—ãŸå›³.

-   refs.
    -   ğŸ“[ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³å›³(UML)]({{< relref "20220905060518.md#a5520dcb-7c54-4c78-ac63-3fdd9a4be1e3" >}})
-   links
    -   [çŠ¶æ…‹é·ç§»å›³ - Wikipedia](https://ja.wikipedia.org/wiki/%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%9B%B3)


### Moore Machine {#1ae0b5}

ãƒ ãƒ¼ã‚¢ãƒã‚·ãƒ³. å‡ºåŠ›ãŒ(å…¥åŠ›ã«ã‚ˆã‚‰ãš)ç¾åœ¨ã®çŠ¶æ…‹ã«ã‚ˆã£ã¦ã®ã¿æ±ºå®šã•ã‚Œã‚‹æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³.

```nil
NextState = f (Input, CurrentState)
Output = g (CurrentState)
```


### Mealy Machine {#f3c9bf}

ãƒŸãƒ¼ãƒªãƒã‚·ãƒ³. å‡ºåŠ›ãŒç¾åœ¨çŠ¶æ…‹ã¨å…¥åŠ›ã«ã‚ˆã£ã¦æ±ºå®šã•ã‚Œã‚‹æœ‰é™ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³.

```nil
Output = h (Input, CurrentState)
```


## ğŸ“Statecharts {#ed84e3eb-2c76-4914-bf40-5cbf699a5cf3}

FSMã®è¡¨ç¾æ–¹æ³•ã®ä¸€ã¤. FSMã«ãŠã„ã¦, çŠ¶æ…‹ã‚’å®šç¾©ã—ã¦å¤šã™ãã«ãªã£ã¦ã—ã¾ã„è¤‡é›‘åŒ–ã—ãŸçŠ¶æ…‹çˆ†ç™º(state explosion)ã‚’è§£æ±ºã—ã‚ˆã†ã¨ã„ã†ã‚‚ã®.

1980å¹´ä»£ã«David HarelãŒæå”±. åˆ¥åãƒãƒ¬ãƒ«ãƒãƒ£ãƒ¼ãƒˆ.

çŠ¶æ…‹ç®¡ç†ã®ã‚¤ã‚·ãƒ¥ãƒ¼ã‚’å®£è¨€çš„ã«è§£æ±ºã™ã‚‹æ‰‹æ®µã¨ã—ã¦è¿‘å¹´Webãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç•Œéšˆã§é™ã‹ãªãƒ–ãƒ¼ãƒ ? Statechartsã ã‘ã ã¨æ—¥æœ¬èªæƒ…å ±ã¯å°‘ãªã„ã®ã§XStateã®è¨˜äº‹ã‚’æ¢ã™ã®ãŒã„ã„. statechartsã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã ã¨å¤ã„çµ„è¾¼ã¿é–‹ç™ºã®è©±é¡ŒãŒå¤šã„å°è±¡.


### Statechartsã®åŸºç¤æ¦‚å¿µ {#4bf0ba}

FSMã®state explosionã®è§£æ±ºç­–ã§ã‚ã‚‹ãŸã‚, statechartsã‚’ç†è§£ã™ã‚‹ã«ã¯ãã®å‰ã®FSMã«ã¤ã„ã¦ç†è§£ã™ã‚‹å¿…è¦ã‚‚ã‚ã‚‹.

-   [What is a statechart? - Statecharts](https://statecharts.dev/what-is-a-statechart.html)

ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã¯å˜èªã¨ãã‚Œã«å¯¾å¿œã™ã‚‹å›³ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ã¦ãã‚Œã‚‹.

-   [Concepts - Statecharts](https://statecharts.dev/concepts.html)

[UML:ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³å›³]({{< relref "20220905060518.md#a5520dcb-7c54-4c78-ac63-3fdd9a4be1e3" >}})ã¯statechartsã‚’å‚è€ƒã«ã¤ãã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§, ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³å›³ã®Wikipediaã‚‚å‚è€ƒã«ãªã‚‹. (ref. [UML state machine - Wikipedia](https://en.wikipedia.org/wiki/UML_state_machine#Extended_states))


#### extended states {#0df837ea-9aaf-4e5c-be8f-5de48097c2dd}

extended state variablesã¨ã„ã„, ã“ã®æ©Ÿèƒ½ã‚’æŒã¤ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’ã¨ãã«extended state machineã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚‹.

XStateã¨ã‹ã§ã¯contextã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®. Practicalãªç†ç”±ã«ã‚ˆã£ã¦çŠ¶æ…‹å¤‰æ•°ã‚’å…¨ã¦ã®çŠ¶æ…‹ã‹ã‚‰èª­ã¿æ›¸ãã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚‚ã®.

ãŸã¨ãˆã°, counterã®å€¤ã‚’æ¡ä»¶ã¨ã—ã¦transitionã™ã‚‹ãªã©.

-   [UML state machine - Wikipedia](https://en.wikipedia.org/wiki/UML_state_machine#Extended_states)
-   [Context | XState Docs](https://xstate.js.org/docs/guides/context.html)


#### Hierarchy States {#808e01}

state explosionã®è§£æ±ºã®ãŸã‚ã«, stateã«éšå±¤æ§‹é€ ã‚’å°å…¥ã™ã‚‹. Hierarchy Statesãªã©ã¨å‘¼ã°ã‚Œã‚‹.

-   Compound States: è¤‡æ•°ã®stateã‹ã‚‰ãªã‚‹ã‚‚ã®. è¦ªstate.
-   Atomic States: å˜ä½“ã®stateã§ã‚ã‚Š, ä»–ã®stateã®éƒ¨åˆ†ã«ãªã‚‹, å­state.

ã‚ã‚‹compoind stateã«enterã™ã‚‹ã¨, ãã®sub stateã«ã‚‚é€£ç¶šã—ã¦enterã™ã‚‹.


#### regions {#030c55}

åˆ¥åã¯parallel state, orthogonal regions.

compound stateã¯ã‚µãƒ–stateã¨ã—ã¦äº’ã„ã«å½±éŸ¿ã—ã‚ã‚ãªã„, è¤‡æ•°ã®stateã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹.


#### Guarded/Delayed/Automatically Transition {#f2475a}

-   æ¡ä»¶ä»˜ãã®çŠ¶æ…‹é·ç§»(guarded transition).
-   é…å»¶ã‚’ä¼´ã†çŠ¶æ…‹é·ç§»(delayed transition).
-   è‡ªå‹•é·ç§»(automatica transition).
-   self transition
-   local transition


### Statecharts References {#06cbea}

David Harelã•ã‚“ã®è«–æ–‡.

<https://www.inf.ed.ac.uk/teaching/courses/seoc/2005_2006/resources/statecharts.pdf>

state machine/statechartsã«ã¤ã„ã¦ãŠãã‚‰ãã‚‚ã£ã¨ã‚‚ã‚ã‹ã‚Šã‚„ã™ã„ã‚µã‚¤ãƒˆ. statechartsã®è«–æ–‡ã¯é›£ã—ã„ã®ã§é–‹ç™ºè€…å‘ã‘ã«ä½¿ãˆã‚‹æƒ…å ±ã¨ã—ã¦ã‚·ãƒ³ãƒ—ãƒ«ã«å™›ã¿ç •ãã¾ã—ãŸ, çš„ãª.

[Welcome to the world of Statecharts - Statecharts](https://statecharts.dev/)

XStateã®ãƒšãƒ¼ã‚¸ãŒã‹ã‚ã„ã„çµµã¨ã¨ã‚‚ã«ã‚ã‹ã‚Šã‚„ã™ã„.

[Introduction to state machines and statecharts | XState Docs](https://xstate.js.org/docs/guides/introduction-to-state-machines-and-statecharts/#compound-states)

---

-   [Statechart - å¢—äº•ä¿Šä¹‹](https://helpfeel.com/masui/Statechart-5ae1e51a6d95bd00142bc5e5)
-   [ğŸ“clj-statechats]({{< relref "20220211142329.md#e9175a11-61e8-41f2-a1bc-1afacbb79911" >}})


## ğŸ“XState {#aa51e8dc-1564-4694-9031-20a4fb5ce5ed}

Statemachine/Statechartsã‚’Webã§å®Ÿè£…ã™ã‚‹ãŸã‚ã®æœ‰åãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯(JavaScript).

ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã¯JSONã§å®šç¾©ã™ã‚‹.

[ğŸ”–çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª]({{< relref "20221029173301.md#b0c8c239-30a0-4986-a28d-b17d66601f9f" >}})


### XState ã¨Actorãƒ¢ãƒ‡ãƒ« {#f7a65c}

[ğŸ’¡ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã‚¢ã‚¯ã‚¿ãƒ¼ã‚’å®šç¾©ã™ã‚‹ã“ã¨](#76dbb5c6-8f7c-496c-9c44-43f0a7f6d8ad)


### XState Visualizer {#206a8b}

XStateã®FSMã‚’å¯è¦–åŒ–ã™ã‚‹Webãƒ„ãƒ¼ãƒ«.

JSONå½¢å¼ã§è¨˜è¿°ã™ã‚‹. ä½œæˆã—ãŸå›³ã¯Webã§(Twitterã¨ã‹ã§ã‚‚)å…±æœ‰ã§ãã‚‹.

-   [Visualizer | XState Docs](https://xstate.js.org/docs/visualizer/)
-   <https://stately.ai/viz>

[UML:ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³å›³]({{< relref "20220905060518.md#a5520dcb-7c54-4c78-ac63-3fdd9a4be1e3" >}})ã‚ˆã‚Šã‚‚ãƒ¡ãƒãƒ£ãƒ¡ãƒãƒ£ã‚¤ã‚±ã¦ã‚‹æ°—ãŒã—ãŸ.


### XState References {#ff7ff0}

-   [XState - JavaScript State Machines and Statecharts](https://xstate.js.org/)
-   [Introduction to state machines and statecharts | XState Docs](https://xstate.js.org/docs/guides/introduction-to-state-machines-and-statecharts/#states)
-   [GitHub - statelyai/xstate: State machines and statecharts for the modern web.](https://github.com/statelyai/xstate#why)
-   [XStateã§çŠ¶æ…‹é·ç§»ã‚’å…±é€šè¨€èªã«ã—ã‚ˆã† - Qiita](https://qiita.com/nsyee/items/9e67485c7af785ffd087)
-   [XStateã‚’æ”¯ãˆã‚‹æ¦‚å¿µã¨å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦ - STORES Product Blog](https://product.st.inc/entry/2022/04/14/105719)
    -   [ğŸ“Redux]({{< relref "20220530083530.md#aa1c2c20-175a-4bf8-aa40-f2cdc0057f57" >}})ã®èª²é¡Œã¨ãã®è§£æ±ºã®ãŸã‚ã®XStateã¸ã®ç§»è¡Œã¨ã„ã†ãƒ†ãƒ¼ãƒã¯é¢ç™½ã„.
-   [XState Catalogue](https://xstate-catalogue.com/)
    -   XStateã‚’ä½¿ã£ãŸçŠ¶æ…‹é·ç§»ã®ã‚«ã‚¿ãƒ­ã‚°é›†.

---

[ğŸ’­XStateã«ã¤ã„ã¦èª¿ã¹ã¯ã˜ã‚ã¦çŠ¶æ…‹ã¨ã„ã†æ¦‚å¿µãŒã‚ã‹ã‚‰ãªã„é›°å›²æ°—ã‚ªã‚¸ã‚µãƒ³]({{< relref "2022-w43.md#19617036-15cb-43dc-ab84-63ead77aeeca" >}})


## FST {#1a5a6b06-c1c4-4738-bb86-6a1e5fcfcfd4}

[Finite-state transducer - Wikipedia](https://en.wikipedia.org/wiki/Finite-state_transducer)

Lucene ã®Finate State Transducerã¯FSMã®100å€é€Ÿã„?

-   [Luceneã§ä½¿ã‚ã‚Œã¦ã‚‹FSTã‚’å®Ÿè£…ã—ã¦ã¿ãŸï¼ˆæ­£è¦è¡¨ç¾ãƒãƒƒãƒï¼šVMã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¸ã®æ‹›å¾…ï¼‰ - Qiita](https://qiita.com/ikawaha/items/be95304a803020e1b2d1)


## ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³Topics {#e00ede}


### higher level events {#d0028e}

eventsã¯å¤–éƒ¨ã‹ã‚‰FSMã«é€šçŸ¥ã•ã‚Œã‚‹ã‚‚ã®ã¯ãªã‚“ã§ã‚‚ã¨ã„ã†ã–ã£ãã‚Šã¨ã—ãŸå®šç¾©ã ãŒ, higher level eventsã¨ã„ã†è¡¨ç¾ã‚‚ã‚ã‚‹. ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ãŠã„ã¦å®šç¾©ã—ãŸç‰¹å®šã®çŠ¶æ…‹ãŒç™ºç”Ÿã™ã‚‹ã¨é€šçŸ¥ã™ã‚‹ãŸãã„ã®ã‚‚ã®(becomming empty, ç©ºã«ãªã£ãŸã¨ã‹).

higher level eventsã¨ã¯ä¸€é€£ã®eventsã®ç›£è¦–ã‚’FSMã®å¤–ã«å‡ºã™, ãã—ã¦FSMã®å†…éƒ¨ã®çŠ¶æ…‹ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹. ãªãœãªã‚‰æ¡ä»¶åˆ¤å®šã‚’FSMã®å†…ã§ä½•åº¦ã‚‚ã—ãªãã¦ã„ã„ã®ã§. ã“ã‚Œã¯ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã®èª²é¡Œã¨ãªã‚‹.


## ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³Insights {#74cc34}


### ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã®æ©Ÿèƒ½æ‹¡å¼µãŒã‚¹ãƒ†ãƒ¼ãƒˆãƒãƒ£ãƒ¼ãƒˆ {#46b4ecc0-93eb-4cb1-9ad5-b8f78f834019}

ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã®æ”¹è‰¯ãŒã‚¹ãƒ†ãƒ¼ãƒˆãƒãƒ£ãƒ¼ãƒˆ.

è‡ªåˆ†ã®é›‘ãªç†è§£ã§ã¯, FSMã«ã„ãã¤ã‹ã®æ©Ÿèƒ½è¿½åŠ ã•ã‚ŒãŸã‚ˆã†ãªã‚‚ã®.

ç‰¹ã«, éšå±¤çš„ãªstateç®¡ç†ãŒçŠ¶æ…‹çˆ†ç™ºã‚’ä¸Šæ‰‹ãæ•´ç†ã™ã‚‹ã®ã‹ã¨.

statechartsã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯prefixã«state machine and statechartsã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã‚‚, statechartsã®åŸºæœ¬æ©Ÿèƒ½ãŒstate machineã ã‹ã‚‰.

é€†ã«è¨€ãˆã°, ç›®ã®å‰ã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹æ‰‹æ®µãŒstatechartsã§ã¯ãªãstate machineã§ã‚‚ã‚ˆã„ã—, ãªã‚“ãªã‚‰ã„ãã¤ã‹ã®çŠ¶æ…‹å¤‰æ•°ã®è‡ªå‰ç®¡ç†ã§ã‚‚ãƒ•ãƒ©ã‚°ã§ã‚‚ã„ã„ã‚ã‘ã . ãã®èª²é¡Œã«ã‚ã£ãŸæ‰‹æ®µã‚’é©åˆ‡ã«é¸ã¶ã¹ãã§, ã‚µã‚¤ã‚ºã®ã‚ã‚ãªã„ãƒ–ã‚«ãƒ–ã‚«ãƒ‘ãƒ³ãƒ„ã‚’ã¯ãå¿…è¦ã‚‚ãªã„.


### ğŸ¤”ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ {#d78f2eb9-54cc-48c6-a2c6-ea0c2da76246}

[What is a state machine? - Statecharts](https://statecharts.dev/what-is-a-state-machine.html)ã®Abstract machine vs run-timeã‚ˆã‚Š.

æŠ½è±¡ãƒã‚·ãƒ³ã¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®é–¢ä¿‚ã¯, ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã«ãŠã‘ã‚‹ã‚¯ãƒ©ã‚¹ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ä¼¼ã¦ã„ã‚‹.


### ğŸ¤”ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã‚¢ã‚¯ã‚¿ãƒ¼ã‚’å®šç¾©ã™ã‚‹ã“ã¨ {#76dbb5c6-8f7c-496c-9c44-43f0a7f6d8ad}

ã‚ã¾ã‚Šç›®ç«‹ãŸãªã„XStateã®Coceptã¨ã—ã¦[ğŸ“Actor ãƒ¢ãƒ‡ãƒ«]({{< relref "20221008220000.md#32927aee-80e6-4937-85cc-d1d0139e5332" >}})ã®å¸ƒæ•™ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚‹.

ref. [Concepts | XState Docs](https://xstate.js.org/docs/about/concepts.html#statecharts)

XStateã«ãŠã‘ã‚‹Actorã¨ã¯ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³([ğŸ’¡ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’å®šç¾©ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨](#d78f2eb9-54cc-48c6-a2c6-ea0c2da76246))ã§ã‚ã‚Š, Actorã¯streamã‚’ä»‹ã—ã¦ä»–ã®Actor(å¤–éƒ¨)ã¨æƒ…å ±ã‚’äº¤æ›ã™ã‚‹(send/recieve).

ã‚ã‚‹Threadã«ãŠã‘ã‚‹æŒ¯ã‚‹èˆã„ã‚’æŠ½è±¡çš„ã«å®šç¾©ã™ã‚‹.


## References {#d95867}

Reactã®ç™»å ´ã‹ã‚‰çŠ¶æ…‹é·ç§»ã‚’è€ƒãˆç›´ã—ã¾ã—ã‚‡ã†ã¨ã„ã†ã‚¹ãƒ©ã‚¤ãƒ‰(å‹•ç”»ã‚‚ã‚ã‚‹).

[Infinitely Better UIs with Finite Automata](http://slides.com/davidkhourshid/finite-state-machines)


## See Also {#15ebdf}

-   ğŸ“[Clojure FSM]({{< relref "20220211142329.md#1401c497-200e-4f4a-a01c-1ce372308804" >}})
-   [ğŸ“ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¸ãƒ£ãƒ³ãƒ—]({{< relref "20220305083612.md#3a322f8e-c081-4ce0-a588-931a1d2999fd" >}})
-   ğŸ“[ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³å›³(UML)]({{< relref "20220905060518.md#a5520dcb-7c54-4c78-ac63-3fdd9a4be1e3" >}})
-   [ğŸ“ã‚¹ãƒ†ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³(GoF)]({{< relref "20220309184220.md#aa38e457-ae0f-421a-a7e6-a0c95163b3cb" >}})
