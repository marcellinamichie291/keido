+++
title = "ğŸ“Clojure core.async"
lastmod = 2022-10-09T16:16:35+09:00
tags = ["WIKI"]
draft = false
+++

-   up: [ğŸ“‚Clojure Core]({{< relref "20220112142936.md" >}})
-   refs.
    -   [ğŸ“Clojure State and Concurrency]({{< relref "20220116191927.md" >}})
    -   [ğŸ“ä¸¦è¡Œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°]({{< relref "20220116195030.md" >}})
    -   [ğŸ“Clojure Transducer]({{< relref "20220331203002.md" >}})


## ğŸ“Clojure: core.async {#a63165}

éåŒæœŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ãŸã‚ã®Clojureãƒ©ã‚¤ãƒ–ãƒ©ãƒª.

<https://github.com/clojure/core.async>

ç†è«–ã¨ã—ã¦ã¯[ğŸ“CSPãƒ¢ãƒ‡ãƒ«]({{< relref "20221008220000.md#8007a6cb-ec77-48c4-8dab-a14524ff57ef" >}})ã¨ã„ã†ã‚‚ã®ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹.


### Basic Concepts {#b3e95d}

-   ãƒãƒ£ãƒãƒ«(channel): ä¸¦åˆ—ã«å‹•ãã‚¿ã‚¹ã‚¯é–“ã§å€¤ã‚’å—ã‘æ¸¡ã™é€šä¿¡è·¯
    -   ãƒãƒƒãƒ•ã‚¡ã‚’æŒã£ãŸã‚­ãƒ¥ãƒ¼ã®ã‚ˆã†ãªã‚‚ã®.
-   [è»½é‡ã‚¹ãƒ¬ãƒƒãƒ‰]({{< relref "20220116195030.md#0fbe2fc2-62bd-4c1c-8834-c6f211565542" >}})(å”èª¿ã‚¹ãƒ¬ãƒƒãƒ‰)
    -   ãƒãƒƒãƒ•ã‚¡sizeã«ã‚ˆã£ã¦ã‚¹ãƒ¬ãƒƒãƒ‰ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹è«–ç†ã‚¹ãƒ¬ãƒƒãƒ‰.
    -   åˆ‡ã‚Šæ›¿ã‚ã‚Šã‚’ãƒ‘ãƒ¼ã‚¯(parking)ã¨ã„ã†.
    -   åˆ‡ã‚Šæ›¿ã‚ã‚‰ãªã„ã®ã‚’ãƒ–ãƒ­ãƒƒã‚¯(Blocking)ã¨ã„ã†.


### Basic Syntax(API) {#c78c0b}

-   chan: channelç”Ÿæˆ
-   goãƒã‚¯ãƒ­: éåŒæœŸãƒ–ãƒ­ãƒƒã‚¯ç”Ÿæˆ
    -   go-loop/recur: goã¨loop/recurã®ç³–è¡£æ§‹æ–‡ãƒã‚¯ãƒ­.
-   é€ä¿¡
    -   >!: channelã«éåŒæœŸã§æ›¸ã
    -   >!!: channelã«åŒæœŸã§æ›¸ã
-   å—ä¿¡
    -   <!: channelã‚’éåŒæœŸã§èª­ã‚€
    -   <!!: channelã‚’åŒæœŸã§èª­ã‚€
-   alts!: è¤‡æ•°ãƒãƒ£ãƒãƒ«ã‹ã‚‰å¾…ã¡å—ã‘ã‚‹.


### ãƒãƒƒãƒ•ã‚¡åˆ¶å¾¡ {#c9d66c}

bufferã¯æœ‰é™ã‚µã‚¤ã‚ºã®ã‚­ãƒ¥ãƒ¼ã®ã‚ˆã†ãªã‚‚ã®ãªã®ã§, ã„ã£ã±ã„ã«ãªã£ãŸã¨ãã®åˆ¶å¾¡ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹.

-   dropping-buffer
    -   ã„ã£ã±ã„ã«ãªã£ãŸã‚‰è¿½åŠ ã—ã‚ˆã†ã¨ã—ãŸå€¤ã‚’åˆ‡æ¨ã¦
-   sliding-buffer
    -   ã„ã£ã±ã„ã«ãªã£ãŸã‚‰æœ€åˆã«è¿½åŠ ã—ãŸå€¤ã‚’åˆ‡æ¨ã¦


## core.async Topics {#df3878}


### ğŸ’¡core.asyncã¯Go Langã®channelã®Clojureç‰ˆ {#a52a6f}

Goã§ã„ã†channelã®æ¦‚å¿µã‚‰ã—ã„ãŒ, Go ã‚’çŸ¥ã‚‰ãªã„ã®ã§ãƒ”ãƒ³ã¨ã“ãªã„.

ãŸã , Goã¨ä¸¦è¡Œå‡¦ç†ã«ã¤ã„ã¦ã®æƒ…å ±ã¯Clojureã‚ˆã‚Šã‚‚æ¤œç´¢ã§å¤šãã¿ã¤ã‹ã‚‹(ã¨ãã«æ—¥æœ¬èª)ã®ã§, å‚è€ƒã«ãªã‚‹.

-   [Goã§ã®ä¸¦è¡Œå‡¦ç†ã‚’å¾¹åº•è§£å‰–ï¼](https://zenn.dev/hsaki/books/golang-concurrency)
    -   [ä¸¦è¡Œå‡¦ç†ã¨ä¸¦åˆ—å‡¦ç†ï½œGoã§ã®ä¸¦è¡Œå‡¦ç†ã‚’å¾¹åº•è§£å‰–ï¼](https://zenn.dev/hsaki/books/golang-concurrency/viewer/term)
-   [Concurrency is not parallelism - The Go Programming Language](https://go.dev/blog/waza-talk)


### atomã¨channelã®é–¢ä¿‚ {#a2c4ae}


### agentã¨core.asyncã®é–¢ä¿‚ {#12b4a7}


## core.async Insights {#333324}


### ğŸ¤”producer-consumer patternã¨core.async {#b2f50c}

ã‚ãŸã—ã®æ‹™ã„è¨˜æ†¶ã ã¨, éåŒæœŸå‡¦ç†ã‚’Java ã‚„Pythonã§ã†ã¾ãå‡¦ç†ã™ã‚‹ã«ã¯, åŒæœŸã‚­ãƒ¥ãƒ¼ã‚’ç”¨ã„ãŸ[Producer-Consumer Pattern]({{< relref "20220116195030.md#1e0ae462-5cdf-45d2-82de-ef3587583ff1" >}})ã‚’ã¤ã‹ã†ã®ãŒé‰„æ¿ã ãŒ, ãã‚Œã‚’core.asyncã‚’ã¤ã‹ã†ã“ã¨ã«ã‚ˆã£ã¦ã‹ã‚“ãŸã‚“ã«å®Ÿè£…ã§ãã‚‹(ç´ æ™´ã‚‰ã—ã„).

---

ä¸€å¿œéå»è¨˜äº‹ã‚’ã¿ã‚‹ã¨å…±æœ‰ãƒ¡ãƒ¢ãƒªæ–¹å¼ã§ã¯ãªã[ğŸ“æ±ºå®šæ€§ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãƒ¢ãƒ‡ãƒ«]({{< relref "20221008195738.md" >}})?(å¿˜ã‚ŒãŸ).

-   refs
    -   [ğŸ–ŠJava ã§ Producer-Consumer Pattern ã‚’å®Ÿè£…ã—ã¦ã¿ãŸ | Futurismo](https://futurismo.biz/archives/2656/)
    -   [ğŸ–Šãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å¤‰æ•° (Oz) ã§å®Ÿç¾ã™ã‚‹ Producer-Consumer Pattern | Futurismo](https://futurismo.biz/archives/2829/)

---

2010å¹´ã®ã¾ã , core.asyncãŒãªã‹ã£ãŸæ™‚ä»£ã«blocking queueã§channelã®æ¦‚å¿µã‚’å®Ÿè£…ã—ãŸã¨ã„ã†è¨˜äº‹.

[Channels in Clojure Â· Dave Jack](https://www.vidston.com/post/channels-in-clojure/)


## ğŸ”—Refenreces {#ec4e12}

-   [Mastering Concurrent Processes with core.async | Clojure for the Brave and True](https://www.braveclojure.com/core-async/)
-   [Clojure + core.async ã«ã‚ˆã‚‹éåŒæœŸï¼†ä¸¦åˆ—ãƒ—ãƒ­ã‚»ã‚¹ã®ä¸–ç•Œ - ç´™ç®±](https://boxofpapers.hatenablog.com/entry/core_async)
    -   [t_yano]({{< relref "20220216154041.md#9b47d9a7-ef98-4225-8f20-8ebd91001e11" >}})ã•ã‚“ã«ã‚ˆã‚‹æ—¥æœ¬èªã«ã‚ˆã‚‹ã‚ã‹ã‚Šã‚„ã™ã„èª¬æ˜è¨˜äº‹.
-   [å…¥é–€core.async](https://www.slideshare.net/sohta/coreasync)

ã‚ãŸã—ãŒæ„›èª­ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°Clojure2ç‰ˆã«ã¯core.asyncã®è©±é¡Œã¯è¼‰ã£ã¦ãªã„...


### Movies {#80662e}

-   ["Clojure core.async" by Rich Hickey (2013) - YouTube](https://www.youtube.com/watch?v=yJxFPoxqzWE)
    -   Rich Hickeyã«ã‚ˆã‚‹core.asyncã®ç´¹ä»‹
-   [LispCast Clojure core.async: Channels - YouTube](https://www.youtube.com/watch?v=msv8Fvtd6YQ)
    -   [ğŸ‘¨Eric Normand]({{< relref "20220324214106.md" >}})ã«ã‚ˆã‚‹è¬ã®4åˆ†ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å‹•ç”».
-   [#17 å¤§å…ˆè¼©Clojurianã®çŸ¢é‡ã•ã‚“ (@t_yano)ã«Uzabaseç¤¾ã‚„core.asyncã®ãƒ‡ã‚£ãƒ¼ãƒ—ãªè©±ã‚’ã—ã¦ã‚‚ã‚‰ã£ãŸ #YCTFC #clojure - YouTube](https://www.youtube.com/watch?v=xQxio0uTDNA)
