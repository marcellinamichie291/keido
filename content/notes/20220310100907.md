+++
title = "ğŸ“çµ„è¾¼ã¿ã‚½ãƒ•ãƒˆé–‹ç™ºæ¦‚è«–"
lastmod = 2022-10-25T14:41:05+09:00
tags = ["TAG", "WIKI"]
draft = false
+++

-   up: [ğŸ“‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºæ¦‚è«–]({{< relref "20220220102738.md" >}})
-   refs.
    -   [ğŸ“ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è«–]({{< relref "20220715090207.md" >}})
    -   [ğŸ“ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°]({{< relref "20220310100122.md" >}})


## ğŸ“çµ„ã¿è¾¼ã¿ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯ {#66acb2}

Embeded System

ç‰¹å®šã®æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«æ©Ÿæ¢°ã‚„æ©Ÿå™¨ã«çµ„ã¿è¾¼ã¾ã‚Œã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ .

-   [çµ„ã¿è¾¼ã¿ã‚·ã‚¹ãƒ†ãƒ  - Wikipedia](http://ja.wikipedia.org/wiki/%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0)

çµ„ã¿è¾¼ã¿ã‚·ã‚¹ãƒ†ãƒ ã®ä¸»ãªæ§‹æˆè¦ç´ ã¯ä»¥ä¸‹.

-   Embedded Systems
    -   MicroCotroller
        -   Memory
            -   RAM
            -   ROM
        -   Processor (CPU)
        -   I/O Ports
        -   DAC
        -   Bas
        -   Timer
    -   External Circuits
    -   Physical Device
        -   Sensor
        -   ADC

ä»¥ä¸‹ã®ã‚ˆã†ãªç‰¹å¾´ã‚’ã‚‚ã¤.

-   A microcontroller hidden inside
-   A dedicated purpose
-   Run in real time
-   Input/output is important
-   High volume, low cost
-   Extremely reliable
-   Low power
-   Small size and weight


## MicroController {#d31ffb}

ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼. ã„ã‚ã‚†ã‚‹, ãƒã‚¤ã‚³ãƒ³.

-   [ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF)


### I/O Port {#2c073d}

Input Port/Output Port ã®ç•¥. Input Port ã¯ å¤–éƒ¨ã®ä¸–ç•Œ (å¤–éƒ¨ã®é›†ç©å›è·¯, sensor, etc)ã‹ã‚‰ã®æƒ…å ±ã‚’ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ãªã‹ã«å…¥ã‚Œã‚‹. Output Port ã¯ãã®é€†.

A port is a physical connection between the computer and its outside world.


#### device driver {#0e5324}

a set of software functions that facilitate the use of an I/O port.


#### GPIO {#a4b03a}

GPIO ã¯ General Purpose Input/Output (æ±ç”¨å…¥å‡ºåŠ›) ã®ç•¥èª.

[GPIO - Wikipedia](http://ja.wikipedia.org/wiki/GPIO)

LSI ãƒãƒƒãƒ—ã‚„é›»å­æ©Ÿå™¨ã®å‚™ãˆã‚‹å…¥å‡ºåŠ›ç«¯å­ã®ä¸€ç¨®ã§,
è¨­å®šæ¬¡ç¬¬ã§æ§˜ã€…ãªç”¨é€”ã«åˆ©ç”¨ã§ãã‚‹ã‚‚ã®.

ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æŒ‡ç¤ºã«ã‚ˆã£ã¦ä»»æ„ã®å…¥åŠ›ã‚ã‚‹ã„ã¯å‡ºåŠ›ã«åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹.
è¤‡æ•°ã®ç«¯å­ãŒ GPIO ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã«ã¯,
ã“ã‚Œã‚’ä¸€ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦ä¸€æ‹¬ã—ã¦åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒã§ãã€ŒGPIO ãƒãƒ¼ãƒˆã€ãªã©ã¨å‘¼ã°ã‚Œã‚‹

[GPIO ã¨ã¯ ã€ General Purpose Input/Output ã€‘ - æ„å‘³/ è§£èª¬/ èª¬æ˜/ å®šç¾© : IT ç”¨èªè¾å…¸](http://e-words.jp/w/GPIO.html)

Pin ã¯ GPIO ã®æ§‹æˆè¦ç´ . ãŸã¨ãˆã°, GPIO PortA ã¯, PA0-PA7 ã® 8 ã¤ã® Pin ã‹ã‚‰ã§ãã¦ã„ã‚‹.

Pins can be configured for digital I/O,
analog input, timer I/O, or serial I/O.
For example PA0 can be digital I/O or serial input.

Pin ã®ãã‚Œãã‚ŒãŒå¤–éƒ¨ãƒ‡ãƒã‚¤ã‚¹ã«æ¥ç¶šã•ã‚Œã‚‹.
ç”¨é€”ã¯, ãƒ¬ã‚¸ã‚¹ã‚¿ã®è¨­å®šã«ã‚ˆã£ã¦è‡ªç”±ã«ã§ãã‚‹.

-   PA1 ... LED ã¸ã® Output ç”¨
-   PA2 ... Switch ã‹ã‚‰ã® Input ç”¨
-   PA3 ... UART ã® Input ç”¨
-   PA4 ... UART ã® Output ç”¨


#### I/O Address {#ed7533}

I/O ãƒãƒ¼ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ã¯å‘¨è¾ºæ©Ÿå™¨ (ãƒ‡ãƒã‚¤ã‚¹) ã¨
CPU ãŒãƒ‡ãƒ¼ã‚¿ã‚’ã‚„ã‚Šå–ã‚Šã™ã‚‹éš›ã«ä½¿ç”¨ã™ã‚‹ 16 ãƒ“ãƒƒãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹.

Linux ã§ã¯, ä»¥ä¸‹ã§ç¢ºèª.

```language
ls /proc/ioports
```


### Register {#0ba758}

ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µãªã©ãŒå†…è”µã™ã‚‹è¨˜æ†¶å›è·¯ã§,
åˆ¶å¾¡è£…ç½®ã‚„æ¼”ç®—è£…ç½®ã‚„å®Ÿè¡Œãƒ¦ãƒ‹ãƒƒãƒˆã«ç›´çµã—ãŸ,
æ“ä½œã«è¦ã™ã‚‹é€Ÿåº¦ãŒæœ€é€Ÿã®, æ¯”è¼ƒçš„å°‘é‡ã®ã‚‚ã®ã‚’æŒ‡ã™.

ä¸€èˆ¬ã«, è«–ç†å›è·¯ã«ãŠã„ã¦, ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—ãªã©ã«ã‚ˆã‚ŠçŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹è£…ç½®ã‚’ãƒ¬ã‚¸ã‚¹ã‚¿ã¨å‘¼ã¶.
ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«ãŠã„ã¦ã¯, ãƒ—ãƒ­ã‚»ãƒƒã‚µãŒå†…è”µã—ã¦ã„ã‚‹ãã‚Œã‚’æŒ‡ã™.
ãƒ—ãƒ­ã‚»ãƒƒã‚µã«ã¯, ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒèª­ã¿æ›¸ãã§ãã‚‹ãƒ¬ã‚¸ã‚¹ã‚¿ä»¥å¤–ã«,
ãƒ—ãƒ­ã‚»ãƒƒã‚µè‡ªèº«ãŒå‹•ä½œã™ã‚‹ãŸã‚ã®ãƒ¬ã‚¸ã‚¹ã‚¿ãŒã‚ã‚Š, å†…éƒ¨ãƒ¬ã‚¸ã‚¹ã‚¿ãªã©ã¨å‘¼ã°ã‚Œã‚‹.

[ãƒ¬ã‚¸ã‚¹ã‚¿ (ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿) - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%AC%E3%82%B8%E3%82%B9%E3%82%BF_(%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF))

Registers are high-speed storage inside the processor.

ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜æ†¶ã—ãŸã‚Šå–ã‚Šå‡ºã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã‚‹é †åºå›è·¯.
out (t) = out (t-1) ã‚’å®Ÿç¾ã™ã‚‹.


#### Register ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã®æ‰±ã„ {#ad64eb}

Pin ã‚’æ“ä½œã™ã‚‹ãŸã‚ã®ãƒ¬ã‚¸ã‚¹ã‚¿ã«ã¯,
ã‚¢ãƒ‰ãƒ¬ã‚¹ç©ºé–“ã®æ±ºã‚ã‚‰ã‚ŒãŸã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã¦ã„ã‚‹. (ä»•æ§˜)

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã¯, ã‚ã‚‰ã‹ã˜ã‚ Define ã‚’åˆ©ç”¨ã—ã¦ãƒ¬ã‚¸ã‚¹ã‚¿ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å®£è¨€ã™ã‚‹ã®ãŒç‹é“.
volatile ã‚’ã¤ã‘ã‚‹ã“ã¨ã§, ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæœ€é©åŒ–ã—ã¦ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã®ã‚’é˜²ã.

```c
#define PA5   (*((volatile unsigned long *) 0x40004080))
```

ã“ã‚Œã¯ä»¥ä¸‹ã¨åŒå€¤.

```c
data = (*((volatile unsigned long *) 0x40004080));
data = 0x40004080;
data = (*0x40004080);
```

ãã†ã™ã‚‹ã¨, ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ Register ã®å€¤ã‚’ Read/Write ã§ãã‚‹.

```c
# Register Write
PA5 = 0x20;
# Register Read
data = PA5;
```

åˆæœŸè¨­å®šã¯ã“ã‚“ãªæ„Ÿã˜.

```c
void PortF_Init (void){ volatile unsigned long delay;
  SYSCTL_RCGC2_R |= 0x00000020;   // 1) F clock
  delay = SYSCTL_RCGC2_R;         // delay
  GPIO_PORTF_LOCK_R = 0x4C4F434B; // 2) unlock PortF PF0
  GPIO_PORTF_CR_R |= 0x1F;        // allow changes to PF4-0
  GPIO_PORTF_AMSEL_R &= 0x00;     // 3) disable analog function
  GPIO_PORTF_PCTL_R &= 0x00000000; // 4) GPIO clear bit PCTL
  GPIO_PORTF_DIR_R &= ~0x11;      // 5.1) PF4,PF0 input,
  GPIO_PORTF_DIR_R |= 0x08;       // 5.2) PF3 output
  GPIO_PORTF_AFSEL_R &= 0x00;     // 6) no alternate function
  GPIO_PORTF_PUR_R |= 0x11;       // enable pullup resistors on PF4,PF0
  GPIO_PORTF_DEN_R |= 0x1F;       // 7) enable digital pins PF4-PF0
}
```


#### L ãƒã‚« Example æŠœç²‹ {#1447e1}

```c
// symbolic names instead of addresses
#define GPIO_PORTF_DATA_R    (*((volatile unsigned long *) 0x400253FC))
#define GPIO_PORTF_DIR_R     (*((volatile unsigned long *) 0x40025400))
#define GPIO_PORTF_AFSEL_R   (*((volatile unsigned long *) 0x40025420))
#define GPIO_PORTF_PUR_R     (*((volatile unsigned long *) 0x40025510))
#define GPIO_PORTF_DEN_R     (*((volatile unsigned long *) 0x4002551C))
#define GPIO_PORTF_LOCK_R    (*((volatile unsigned long *) 0x40025520))
#define GPIO_PORTF_CR_R      (*((volatile unsigned long *) 0x40025524))
#define GPIO_PORTF_AMSEL_R   (*((volatile unsigned long *) 0x40025528))
#define GPIO_PORTF_PCTL_R    (*((volatile unsigned long *) 0x4002552C))
#define SYSCTL_RCGC2_R       (*((volatile unsigned long *) 0x400FE108))

// 2. Declarations Section
//   Global Variablesp
unsigned long SW1; // input from PF4
unsigned long SW2; // input from PF0

// Subroutine to initialize port F pins for input and output
// PF4 is input SW1 and PF2 is output Blue LED
void PortF_Init (void){ volatile unsigned long delay;
  SYSCTL_RCGC2_R |= 0x00000020;   // 1) F clock
  delay = SYSCTL_RCGC2_R;         // delay
  GPIO_PORTF_LOCK_R = 0x4C4F434B; // 2) unlock PortF PF0
  GPIO_PORTF_CR_R |= 0x1F;        // allow changes to PF4-0
  GPIO_PORTF_AMSEL_R &= 0x00;     // 3) disable analog function
  GPIO_PORTF_PCTL_R &= 0x00000000; // 4) GPIO clear bit PCTL
  GPIO_PORTF_DIR_R &= ~0x11;      // 5.1) PF4,PF0 input,
  GPIO_PORTF_DIR_R |= 0x08;       // 5.2) PF3 output
  GPIO_PORTF_AFSEL_R &= 0x00;     // 6) no alternate function
  GPIO_PORTF_PUR_R |= 0x11;       // enable pullup resistors on PF4,PF0
  GPIO_PORTF_DEN_R |= 0x1F;       // 7) enable digital pins PF4-PF0
}

void FlashSOS (void){
  //S
  GPIO_PORTF_DATA_R |= 0x08;  delay (1);
  GPIO_PORTF_DATA_R &= ~0x08; delay (1);
  GPIO_PORTF_DATA_R |= 0x08;  delay (1);
  GPIO_PORTF_DATA_R &= ~0x08; delay (1);
  GPIO_PORTF_DATA_R |= 0x08;  delay (1);
  GPIO_PORTF_DATA_R &= ~0x08; delay (1);
  //O
  GPIO_PORTF_DATA_R |= 0x08; delay (4);
  GPIO_PORTF_DATA_R &= ~0x08;delay (4);
  GPIO_PORTF_DATA_R |= 0x08; delay (4);
  GPIO_PORTF_DATA_R &= ~0x08;delay (4);
  GPIO_PORTF_DATA_R |= 0x08; delay (4);
  GPIO_PORTF_DATA_R &= ~0x08;delay (4);
  //S
  GPIO_PORTF_DATA_R |= 0x08; delay (1);
  GPIO_PORTF_DATA_R &= ~0x08;delay (1);
  GPIO_PORTF_DATA_R |= 0x08; delay (1);
  GPIO_PORTF_DATA_R &= ~0x08;delay (1);
  GPIO_PORTF_DATA_R |= 0x08; delay (1);
  GPIO_PORTF_DATA_R &= ~0x08;delay (1);
  delay (10); // Delay for 5 secs in between flashes
}
```


## HDL {#2cf6e4}

Hardware Description Language

-   [ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢è¨˜è¿°è¨€èª - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%BC%E3%83%89%E3%82%A6%E3%82%A7%E3%82%A2%E8%A8%98%E8%BF%B0%E8%A8%80%E8%AA%9E)


### VHDL {#01ebe0}

-   [Emacs VHDL Mode](http://www.iis.ee.ethz.ch/~zimmi/emacs/vhdl-mode.html)


### Verilog {#e3dd11}


### VHDL ã¨ Verilog ã®é•ã„. {#4b8bc1}

-   VHDL ã¯ã€Œadaã€ã¨ã„ã†ãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨€èªã‚’ã‚‚ã¨ã«é–‹ç™ºã•ã‚ŒãŸã€Œä½¿ç”¨è¨˜è¿°è¨€èªã€
-   Verilog ã¯ã€ŒC è¨€èªã€ã‚’ã‚‚ã¨ã«é–‹ç™ºã•ã‚ŒãŸã€Œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å°‚ç”¨è¨€èªã€

å‚è€ƒ

-   [è¨€èª?](http://www.din.or.jp/~yagiyagi/HTML/KNOWLEDGE/gengo.htm)
-   [VHDL ã¨ Verilog ã®é•ã„ã«ã¤ã„ã¦ - ãã®ä»– (ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°) | æ•™ãˆã¦!goo](http://oshiete.goo.ne.jp/qa/392042.html)


## é›»å­å›è·¯ (ã‚²ãƒ¼ãƒˆ) {#3df7c9}


### è«–ç†ã‚²ãƒ¼ãƒˆ {#c9132a}

ãƒ–ãƒ¼ãƒ«é–¢æ•°ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ç‰©ç†ãƒ‡ãƒã‚¤ã‚¹.

ã‚²ãƒ¼ãƒˆã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã‚’å›è·¯, ãƒãƒƒãƒ—ã¨ã„ã†.


#### ãƒˆãƒ©ãƒ³ã‚¸ã‚¹ã‚¿ {#3719b4}

2 å€¤ã®ãƒ‡ãƒ¼ã‚¿è¡¨ç¾ã‚’é›»æ°—ã§å®Ÿç¾ã™ã‚‹ç‰©ç†ãƒ‡ãƒã‚¤ã‚¹. ã‚¹ã‚¤ãƒƒãƒãƒ³ã‚°æŠ€è¡“.

-   [ãƒˆãƒ©ãƒ³ã‚¸ã‚¹ã‚¿ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B8%E3%82%B9%E3%82%BF)

é›»æ°—ã§ã‚ã‚‹ã“ã¨ãŒä¸€ã¤ã®ãƒã‚¤ãƒ³ãƒˆ.
åˆ¥ã®ç‰©ç†æ€§è³ªã‚’ç”¨ã„ã¦ã‚²ãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹.


#### NAND {#3be5b8}

ã‚‚ã£ã¨ã‚‚åŸºç¤çš„ãªè«–ç†ã‚²ãƒ¼ãƒˆ.


#### ãƒ–ãƒ¼ãƒ«è«–ç† {#b305fd}

ã™ã¹ã¦ã®ãƒ–ãƒ¼ãƒ«é–¢æ•°ã¯ NAND NOT ã‚’ã¤ã‹ã£ã¦è¡¨ç¾ã§ãã‚‹.
(AND, OR, NOT ) ã‚’å«ã‚€.

-   NOT (x) = (x NAND x)
-   AND (x, y) = NOT (x NAND y)
-   OR (x,y) = NOT (NOT (x) AND NOT (y))

NAND ã‚’å®Ÿç¾ã—ãŸç‰©ç†ãƒ‡ãƒã‚¤ã‚¹ãŒè‡ªç”±ã«åˆ©ç”¨ã§ãã‚Œã°,
ã©ã®ã‚ˆã†ãªãƒ–ãƒ¼ãƒ«é–¢æ•°ã‚‚ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ã—ã¦ä½œæˆã§ãã‚‹.


#### ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µ {#c7c621}

ãµãŸã¤ä»¥ä¸Šã®å…¥åŠ›ã‚’ã²ã¨ã¤ã®ä¿¡å·ã¨ã—ã¦å‡ºåŠ›ã™ã‚‹æ©Ÿæ§‹.

-   [ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%9E%E3%83%AB%E3%83%81%E3%83%97%E3%83%AC%E3%82%AF%E3%82%B5)

ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µã«ã‚ˆã£ã¦ã€ãƒãƒ¼ãƒ‰çš„ã« if æ–‡ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹.


### ç®—è¡“ã‚²ãƒ¼ãƒˆ {#91e245}

-   [ãƒã‚¤ã‚³ãƒ³å…¥é–€!! å¿…æºç”¨èªé›† (6):CPU ã®ä¸­æ¢ã€ŒALUã€ã‚’ä½œã£ã¦ã¿ã‚ˆã† (1/4) - EDN Japan](http://ednjapan.com/edn/articles/1308/09/news002.html)


### é †åºå›è·¯ {#a62b7f}

ã²ã¨ã¤ä»¥ä¸Šã®ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—å›è·¯ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‚‚ã®.

ä»¥ä¸‹ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚’ã‚‚ã¤.

-   çŠ¶æ…‹ã‚’ä¿ã¤
-   çŠ¶æ…‹ã‚’æ“ä½œã™ã‚‹

çŠ¶æ…‹ãŒã‹ã‚ã‚‹ã®ã¯, ã‚¯ãƒ­ãƒƒã‚¯ãŒæ¬¡ã®å‘¨æœŸã«ç§»è¡Œã—ãŸã¨ã.
(c.f. çµ„ã¿åˆã‚ã›å›è·¯ã¯å³æ™‚)


#### (D) ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—å›è·¯ {#5b2c6c}

é †åºå›è·¯ã®ä¸­ã§ã‚‚ã£ã¨ã‚‚ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ãªã‚‚ã®.
NAND ã¨ã¨ã‚‚ã«, ã‚‚ã£ã¨ã‚‚ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ãªã‚‚ã®ã¨ã—ã¦è€ƒãˆã‚‰ã‚Œã‚‹.

ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—å›è·¯ã®å®Ÿè£…æ–¹æ³•ã¯ã„ã‚ã„ã‚ã‚ã‚‹.
NAND ã‹ã‚‰æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚‹.

-   [D ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—](http://home.a00.itscom.net/hatada/dc2/chap09/dff.html)


#### ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿ {#5240c7}


### è«–ç†ç®—è¡“ã‚²ãƒ¼ãƒˆ (ALU) {#9b17b3}

è«–ç†ã‚²ãƒ¼ãƒˆã¨ç®—è¡“ã‚²ãƒ¼ãƒˆã‚’ã‚ã‚ã›ã¦ã²ã¨ã¤ã«ã—ãŸã‚‚ã®.CPU ã®ä¸­æ ¸.


## Memory/Cache {#bb9fb6}

-> ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ç§»å‹•


## Interface {#3c1aac}

ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’çµã¶ã‚‚ã®. ã“ã“ã§ã„ã†ã¨ã“ã‚ã¯, ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹.

interface is defined as the hardware and software that combine
to allow the computer to communicate with the external hardware.

-   [ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ (æƒ…å ±æŠ€è¡“) - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%BC%E3%83%89%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9#.E3.83.8F.E3.83.BC.E3.83.89.E3.82.A6.E3.82.A7.E3.82.A2.E3.82.A4.E3.83.B3.E3.82.BF.E3.83.95.E3.82.A7.E3.83.BC.E3.82.B9)

I/O Port, å¤–éƒ¨é›»å­å›è·¯, ç‰©ç†çš„ãƒ‡ãƒã‚¤ã‚¹, ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãªã©ã‚’é›†ã‚ãŸã‚‚ã®.

An interface is defined as the collection of the I/O port,
external electronics, physical devices, and the software,
which combine to allow the computer to communicate with the external world.

ä»¥ä¸‹ã® 4 ã¤ã«åˆ†é¡ã•ã‚Œã‚‹.

-   Parallel - binary data are available simultaneously on a group of lines
-   Serial - binary data are available one bit at a time on a single line
-   Analog - data are encoded as an electrical voltage, current, or power
-   Time - data are encoded as a period, frequency, pulse width, or phase shift


### Parallel Interface {#3dc444}

ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒãƒ¼ãƒˆã¨ã¯, ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ å†…ã§,
ã°ã‚‰ã°ã‚‰ã®å‘¨è¾ºæ©Ÿå™¨ã‚’ã‚±ãƒ¼ãƒ–ãƒ«ã§æ¥ç¶šã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã‚‹ç‰©ç†çš„ãªã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã®ä¸€ç¨®.

-   [ãƒ‘ãƒ©ãƒ¬ãƒ«ãƒãƒ¼ãƒˆ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%91%E3%83%A9%E3%83%AC%E3%83%AB%E3%83%9D%E3%83%BC%E3%83%88)
-   [ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã¯ ã€Œãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã€ (parallel interface): - IT ç”¨èªè¾å…¸ãƒã‚¤ãƒŠãƒª](http://www.sophia-it.com/content/%E3%83%91%E3%83%A9%E3%83%AC%E3%83%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9)


#### PCI {#c89b74}

ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µã¨å‘¨è¾ºæ©Ÿå™¨ã¨ã®é–“ã®é€šä¿¡ã‚’è¡Œã†ãŸã‚ã®ãƒã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸€ã¤.

-   [Peripheral Component Interconnect - Wikipedia](http://ja.wikipedia.org/wiki/Peripheral_Component_Interconnect)

<!--listend-->

```sh
   $ lspci
```


#### USB {#7aca5e}

USB (Universal Serial Bus) ã¯ãƒ›ãƒƒãƒˆãƒ—ãƒ©ã‚°ã«å¯¾å¿œã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®è¦æ ¼ã§ã™.
USB ãƒ‡ãƒã‚¤ã‚¹ã¯ USB ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ© (ãƒãƒƒãƒ—) ã«ã‚ˆã£ã¦åˆ¶å¾¡ã•ã‚Œã¾ã™.
ã¾ãŸ, ãã‚Œãã‚Œã® USB ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã«ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (ãƒ‡ãƒã‚¤ã‚¹ãƒ‰ãƒ©ã‚¤ãƒ) ãŒå¿…è¦ã§ã™.

ä»¥ä¸‹ã¯ä¸»ãª USB ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©, USB ã®è¦æ ¼, ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™.

| Controller | Spec   | USB mod (2.4) | USB mod (2.6) |
|------------|--------|---------------|---------------|
| UHCI       | USB1.1 | usb-uhci      | uhci_hcd      |
| OHCI       | USB1.1 | usb-uhci      | uhci_hcd      |
| EHCI       | USB2.0 | -             | ehci_hcd      |

USB ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªç‰¹å¾´ãŒã‚ã‚Šã¾ã™.

-   USB ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯æœ€å¤§ 127 å°ã® USB ãƒ‡ãƒã‚¤ã‚¹ã‚’åˆ¶å¾¡ã§ãã‚‹
-   ã‚·ã‚¹ãƒ†ãƒ ãŒèµ·å‹•ã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ã‚‚ USB ãƒ‡ãƒã‚¤ã‚¹ã®å·®ã—æ›¿ãˆãŒå‡ºæ¥ã‚‹ (ãƒ›ãƒƒãƒˆãƒ—ãƒ©ã‚°)
-   æ¥ç¶šã—ã¦ã„ã‚‹ãƒ›ã‚¹ãƒˆã‹ã‚‰é›»æºã‚’ä¾›çµ¦ã§ãã‚‹
-   ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰, ãƒã‚¦ã‚¹, ãƒ—ãƒªãƒ³ã‚¿ãªã©å¤šãã®ãƒ‡ãƒã‚¤ã‚¹ãŒ USB ã«å¯¾å¿œã—ã¦ã„ã‚‹

ãªãŠ, USB1.1 è¦æ ¼ã¯ã‚«ãƒ¼ãƒãƒ« 2.4 ã‹ã‚‰, USB2.0 è¦æ ¼ã¯ã‚«ãƒ¼ãƒãƒ« 2.6 ã‹ã‚‰ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™.


### Syncronization {#34ea62}

ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®åŒæœŸå‡¦ç†.

ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã¯,
ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æ–¹ãŒæ—©ã„ãŸã‚ç›¸äº’ã§ã‚„ã‚Šã¨ã‚Šã™ã‚‹ãŸã‚ã«ã¯ä»¥ä¸‹ã®æ‰‹æ®µãŒã‚ã‚‹.


#### Blind-Cycle {#0bea66}

æ±ºã‚ã‚‰ã‚ŒãŸæ™‚é–“ Sleep ã—ãŸã‚ã¨ã« I/O ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹.

the software writes data to the output device,
triggers (starts) the device, then waits a specified time.
We call this method blind, because there is no status information
about the I/O device reported to the software.


#### Busy-Wait {#7413f7}

Input device ã®ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚ŒãŸã¨ãã« I/O ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹.

çŠ¶æ…‹ãŒ Busy ãªã‚‰ã° Wait (loop), Ready ãªã‚‰ã°æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸.

Busy Wait is a software loop that checks the I/O status
waiting for the done state. For an input device,
the software waits until the input device has new data,
and then reads it from the input device,


#### Interrupt {#1ce92a}

ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãŒç™ºç”Ÿã•ã›ã‚‹ç‰¹åˆ¥ãªé€šçŸ¥.

An interrupt uses hardware to cause special software execution.
With an input device,
the hardware will request an interrupt when input device has new data.
The software interrupt service will read from the input device and save in global RAM,


#### Periodic Polling {#ad01e9}

ã‚¯ãƒ­ãƒƒã‚¯ã‚¿ã‚¤ãƒã®å‰²ã‚Šè¾¼ã¿å¥‘æ©Ÿã§ I/O ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯


#### DMA {#34a05b63-8431-44c4-8306-f8f86030fa58}

Direct Memory Access. ã‚ã‚‹ãƒ¡ãƒ¢ãƒªã‹ã‚‰åˆ¥ã®ãƒ¡ãƒ¢ãƒªã«ç›´æ¥æƒ…å ±ã‚’æ›¸ãè¾¼ã‚€. CPU ã‚’ä»‹ã™ã‚‹ã“ã¨ãªããƒ¡ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã¨å‘¨è¾ºæ©Ÿå™¨ã®é–“ã§ç›´æ¥çš„ã«æƒ…å ±è»¢é€ã‚’è¡Œã†æ–¹å¼.

```language
# ãƒ‡ãƒã‚¤ã‚¹ãŒä½¿ç”¨ä¸­ã® DMA ãƒãƒ£ãƒãƒ«ã«é–¢ã™ã‚‹æƒ…å ±
# cat /proc/dma
```


### Serial Interface {#43da65}


#### UART {#cec576}

Universal Asynchronous Receiver/Transmitter (UART).
èª¿æ­©åŒæœŸæ–¹å¼ã«ã‚ˆã‚‹ã‚·ãƒªã‚¢ãƒ«é€šä¿¡ã‚’ã™ã‚‹ãŸã‚ã®æ±ç”¨ I/F.

-   [UART - Wikipedia](http://ja.wikipedia.org/wiki/UART)

æœ‰åãªã®ã§, æœ€è¿‘ã®ã»ã¨ã‚“ã©ã®ãƒã‚¤ã‚³ãƒ³ã«æ­è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚‰ã—ã„.


## Thread/Process/Task {#839551}

ã¡ã‚‡ã£ã¨å¾Œã§æ•´ç†.


### Thread {#d97477}

A thread is defined as the path of action of software as it executes.

ref. [ğŸ“ã‚¹ãƒ¬ãƒƒãƒ‰]({{< relref "20220116195030.md#0a81cf6e-a83d-4e7b-b759-35c5d811ddd3" >}})


### Process {#b6ec7a}


#### Definition {#0b890b}

-   A process is defined as the action of software as it executes.
-   A process is an instance of a running program.


#### Features {#98f770}

ãƒ—ãƒ­ã‚»ã‚¹ã¯ 2 ã¤ã®æŠ½è±¡åŒ–ã‚’ãŠã“ãªã†

-   è«–ç†åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼
    -   ãã‚Œãã‚Œã®ãƒ—ãƒ­ã‚»ã‚¹ãŒ 1 ã¤ã® CPU ã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹
-   ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªä»®æƒ³ãƒ¡ãƒ¢ãƒªç©ºé–“
    -   ãã‚Œãã‚Œã®ãƒ—ãƒ­ã‚»ã‚¹ãŒ 1 ã¤ã® ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒª ã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹

Process ã¯ä¸€åº¦ã«ã²ã¨ã¤ã®ã“ã¨ã—ã‹å®Ÿè¡Œã§ããªã„.

-   concurrently: å¹³è¡Œã§å‹•ä½œã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹
-   å®Ÿéš›ã¯ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«.

ãã®ç§˜å¯†ã¯, OS ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¤ãƒƒãƒã«ã‚ã‚‹!


#### fork-exec model {#464440}

Fork-exec is a commonly used technique in Unix whereby an executing process spawns a new program.

fork-exec ãƒ¢ãƒ‡ãƒ«ã¯, ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†æ‰‹æ³•.

-   [Fork-exec - Wikipedia, the free encyclopedia](http://en.wikipedia.org/wiki/Fork-exec)
-   [fork - Wikipedia](http://ja.wikipedia.org/wiki/Fork)

forc ã¨ exec ã®èª¬æ˜ã¯ä»¥ä¸‹.

-   fork: ç¾åœ¨ã®ãƒ—ãƒ­ã‚»ã‚¹ã®ã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆ.
-   execve: ç¾åœ¨ã®ãƒ—ãƒ­ã‚»ã‚¹ã®ã‚³ãƒ¼ãƒ‰ã¨ãƒ¡ãƒ¢ãƒªç©ºé–“ã‚’åˆ¥ã®ã‚‚ã®ã¸ç½®ãæ›ãˆã‚‹.


## Interrupt {#1ce92a}

Hardware Interrupt Software Action.

éåŒæœŸä¾‹å¤–ã¨ã‚‚ã„ã†. ãƒ—ãƒ­ã‚»ãƒƒã‚µã®å¤–éƒ¨ã‹ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚ˆã£ã¦ã²ããŠã“ã•ã‚Œã‚‹.

-   I/O  interrupts
    -   hittng  Ctrl-Â­-C  on  the  keyboard
    -   clicking  a  mouse  buVon  or  tapping  a  touchscreen
    -   arrival  of  a  packet  from  a  network
    -   arrival  of  data  from  a  disk
-   Hard  reset  interrupt
    -   hittng  the  reset  buVon  on  front  panel
-   Soft  reset  interrupt
    -   hittng  Ctrl-Â­-Alt-Â­-Delete on a PC

Busy-Wait ã®åˆ¶å¾¡ã§å¾…ã£ã¦ã‚‰ã‚Œãªã„å ´åˆã¯, Interrupt ã‚’åˆ©ç”¨ã™ã‚‹.


### Edx {#4d30cb}

ã“ã“ã‹ã‚‰ã¯, ä¸€èˆ¬çš„ãªèª¬æ˜ã§ã¯ãªãã¦ edX ã®ä¸­ã ã‘ã®å®šç¾©.


#### Arm/DisArm {#1b4aa7}

-   Arm ã¨ã¯, ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãŒå‰²ã‚Šè¾¼ã¿ã‚’ã‚ã’ã‚‹ã“ã¨ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹.
-   DisArm ã¨ã¯, ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãŒå‰²ã‚Šè¾¼ã¿ã‚’ã‚ã’ã‚‹ã“ã¨ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹.


#### Enable/Disable {#e566fe}

-   Enable ã¯ä¸€æ™‚çš„ã«å‰²ã‚Šè¾¼ã¿ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹.
-   Disable ã¯ä¸€æ™‚çš„ã«å‰²ã‚Šè¾¼ã¿ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹.Disable ä¸­ã«ç™ºç”Ÿã—ãŸ
    Interuppt ã¯ Pending ã•ã‚Œã¦, Enable æ™‚ã«é€šçŸ¥ã•ã‚Œã‚‹.


#### Interruput ã®åˆæœŸåŒ–å‡¦ç† {#b394b6}

1.  Trigger flag set by hardware
2.  the device is armed by software
3.  the device is enabled for interrupts in the NVIC
4.  the processor is enabled for interrupts (PRIMASK I bit is clear)
5.  the interrupt level must be less than the BASEPRI.


#### Context Switch {#de0b1c}

å‰²ã‚Šè¾¼ã¿ã‚’ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãŒæ¤œçŸ¥ã—ãŸã¨ãã«,
foreground ã¨ background ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’å…¥ã‚Œæ›¿ãˆã‚‹.

-   [ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¤ãƒƒãƒ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%82%B3%E3%83%B3%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81)

ç¾åœ¨ã®ãƒ—ãƒ­ã‚»ã‚¹ã®å®Ÿè¡Œã‚’ä¸€æ™‚åœæ­¢ã—ã¦,
ã‚¹ã‚¿ãƒƒã‚¯ã«ãƒ¬ã‚¸ã‚¹ã‚¿æƒ…å ±ã‚’è¦šãˆã¦ãŠã.

å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ©ã‚’å®Ÿè¡Œã—ã¦,
ãƒãƒ³ãƒ‰ãƒ©ã®å®Ÿè¡ŒãŒçµ‚äº†ã—ãŸã‚‰ã‚‚ã¨ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’å†é–‹ã™ã‚‹.

1.  Current instruction is finished,
2.  Eight registers are pushed on the stack,
3.  LR is set to 0xFFFFFFF9,
4.  IPSR is set to the interrupt number,
5.  PC is loaded with the interrupt vector


### Interrupt Service Routine (ISR) {#880489}

å‰²ã‚Šè¾¼ã¿ã‚µãƒ¼ãƒ“ã‚¹ãƒ«ãƒ¼ãƒãƒ³. å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ©ã¨ã‚‚ã„ã†.

-   [å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ© - Wikipedia](http://ja.wikipedia.org/wiki/%E5%89%B2%E3%82%8A%E8%BE%BC%E3%81%BF%E3%83%8F%E3%83%B3%E3%83%89%E3%83%A9)

ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¤ãƒƒãƒã«ã‚ˆã£ã¦,foreground ã§å‹•ä½œã—ã¦ã„ã‚‹ busy-wait ãªã‚¹ãƒ¬ãƒƒãƒ‰ã¨ ISR ãŒã‚¹ãƒ¯ãƒƒãƒ—ã•ã‚Œã‚‹.

å‰²ã‚Šè¾¼ã¿å—ã‘ä»˜ã‘ã«ã‚ˆã£ã¦èµ·å‹•ã•ã‚Œã‚‹ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚„ãƒ‡ãƒã‚¤ã‚¹ãƒ‰ãƒ©ã‚¤ãƒã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒãƒ³.å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ©ã¯å‰²ã‚Šè¾¼ã¿åŸå› ã«ã‚ˆã£ã¦ãã‚Œãã‚Œå­˜åœ¨ã—,å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ©ãŒãã®ã‚¿ã‚¹ã‚¯ã‚’å®Œäº†ã™ã‚‹ã¾ã§ã«ã‹ã‹ã‚‹æ™‚é–“ã‚‚æ§˜ã€…ã§ã‚ã‚‹.


#### NVIC {#d672d2}

å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ©ã«å¯¾å¿œã•ã›ãŸã„é–¢æ•°ã¯,
startup script ã«äº‹å‰ã«ç™»éŒ²ã—ã¦ãŠã.

vector ã¨ã„ã†ãƒ¡ãƒ¢ãƒªé ˜åŸŸã«ã‚·ã‚¹ãƒ†ãƒ ã«ã©ã®é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚Œã°ã„ã„ã‹ã‚’ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ã—ã¦æ•™ãˆã‚‹.

interrupt ç™ºç”Ÿæ™‚ã¯ vector ã‚’å‚ç…§ã—ã¦, ãã‚Œã«å¯¾å¿œã™ã‚‹å‰²ã‚Šè¾¼ã¿ãƒ«ãƒ¼ãƒãƒ³ã®é–¢æ•°ã‚’å‘¼ã¶.

nested vectored interrupt controller (NVIC) manages interrupts,
which are hardware-triggered software functions. Some internal peripherals,
like the NVIC communicate directly with the processor
via the private peripheral bus (PPB).
The tight integration of the processor and interrupt controller provides
fast execution of interrupt service routines (ISRs),
dramatically reducing the interrupt latency.


#### Acknowledge {#dd279c}

å‰²ã‚Šè¾¼ã¿ã‚’ ISR ãŒèªè­˜ã™ã‚‹ã“ã¨.
ISR ãŒå‰²ã‚Šè¾¼ã¿ã®èªè­˜ã‚’è¡Œã£ãŸå¾Œ, åŒã˜ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®å‰²ã‚Šè¾¼ã¿ãŒç™ºç”Ÿã—ãªã„ã‚ˆã†å‰²ã‚Šè¾¼ã¿ãƒã‚¹ã‚¯ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚‹.
ãã†ã—ãªã„ã¨, ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹æã‚ŒãŒã‚ã‚‹.

-   [ãƒ¬ãƒãƒ¼ãƒˆ 31:å‰²ã‚Šè¾¼ã¿ã‚µãƒ¼ãƒ“ã‚¹ãƒ«ãƒ¼ãƒãƒ³ (ISR) ã®å‡¦ç†](http://d241445.hosting-sv.jp/community/report/report31.html)

å®Ÿè£…ã§ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨ã¯ä»¥ä¸‹.

-   é•·æ™‚é–“ã®å‡¦ç†ã¯ã—ã¦ã¯ã„ã‘ãªã„.
-   å¾…ã¡çŠ¶æ…‹ã«ãªã£ã¦ã¯ã„ã‘ãªã„, Delay Loop ã¯ã¤ã‹ã‚ãªã„ã»ã†ãŒã‚ˆã„.
-   å‘¼ã‚“ã§ã¯ã„ã‘ãªã„é–¢æ•°ãŒã‚ã‚‹.

å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ©ã§ã¯å¿…è¦æœ€å°é™ã®å‡¦ç†ã®ã¿ã‚’è¡Œã„, åˆ¥ã®ã‚¿ã‚¹ã‚¯ã«é€šçŸ¥ã—ã¦,
ãƒ¡ã‚¤ãƒ³ã®å‡¦ç†ã¯ãã£ã¡ã§ã•ã›ã‚‹ã‚ˆã†ã«å®Ÿè£…ã™ã¹ã.


#### ISR ã‹ã‚‰ãƒ¡ã‚¤ãƒ³å‡¦ç†ã¸ã®é€šçŸ¥æ–¹æ³• {#595b86}

ISR ã¨ãƒ¡ã‚¤ãƒ³å‡¦ç†ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒ¡ãƒ¢ãƒªé ˜åŸŸã‚’ä»‹ã—ã¦æƒ…å ±ã‚’å—æ¸¡ã—ã™ã‚‹.

-   Binary Semaphore

ISR ã§ æ±ºã‚ã‚‰ã‚ŒãŸ flag ã‚’ç«‹ã¦ã¦, ãƒ¡ã‚¤ãƒ³å‡¦ç†ã§ãã®ãƒ•ãƒ©ã‚°ã‚’ç›£è¦–ã™ã‚‹.
flag ãŒ 1 ãªã‚‰ã°, ãã‚Œã®ãƒ•ãƒ©ã‚°ã«å¯¾å¿œã™ã‚‹å‡¦ç†ã‚’å®Ÿæ–½ã™ã‚‹.

-   MailBox

flag ã¨ã¨ã‚‚ã«ãƒ‡ãƒ¼ã‚¿ã‚‚æ¸¡ã™ã“ã¨ã‚‚ã‚ã‚‹.

flag ã‚’ Status ã¨ã„ã„, flag ã¨ data ã‚’åˆã‚ã›ãŸãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ Mail ã¨ã„ã†.
(MailBox Pruducer-Consumer Pattern)

-   FIFO queue

ISR ã§ Fifo ãªãƒ¡ãƒ¢ãƒªé ˜åŸŸã«ãƒ‡ãƒ¼ã‚¿ã‚’ PUT ã—,
ãƒ¡ã‚¤ãƒ³å‡¦ç†ã® loop å‡¦ç†ã§ã§å®šæœŸçš„ã« Fifo ãª data ã‚’ãƒã‚§ãƒƒã‚¯ã—, é †æ¬¡å®Ÿè¡Œã™ã‚‹.


## DAC {#52a8b9}

digital to analog converter (DAC).

ãƒ‡ã‚¸ã‚¿ãƒ«é›»æ°—ä¿¡å·ã‚’ã‚¢ãƒŠãƒ­ã‚°é›»æ°—ä¿¡å·ã«å¤‰æ›ã™ã‚‹é›»å­å›è·¯.

[ãƒ‡ã‚¸ã‚¿ãƒ«-ã‚¢ãƒŠãƒ­ã‚°å¤‰æ›å›è·¯ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%83%87%E3%82%B8%E3%82%BF%E3%83%AB-%E3%82%A2%E3%83%8A%E3%83%AD%E3%82%B0%E5%A4%89%E6%8F%9B%E5%9B%9E%E8%B7%AF)


### Sound {#9d07e0}


## ADC {#72c1bb}

analog to digital converter (ADC).

ã‚¢ãƒŠãƒ­ã‚°é›»æ°—ä¿¡å·ã‚’ãƒ‡ã‚¸ã‚¿ãƒ«é›»æ°—ä¿¡å·ã«å¤‰æ›ã™ã‚‹é›»å­å›è·¯.

[ã‚¢ãƒŠãƒ­ã‚°-ãƒ‡ã‚¸ã‚¿ãƒ«å¤‰æ›å›è·¯ - Wikipedia](http://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%8A%E3%83%AD%E3%82%B0-%E3%83%87%E3%82%B8%E3%82%BF%E3%83%AB%E5%A4%89%E6%8F%9B%E5%9B%9E%E8%B7%AF)


### Sensor {#06b185}


## ğŸ“šNand To Tetris {#43c296}


### week0 {#fe4348}


### week1: ã‚²ãƒ¼ãƒˆã¸ {#33cd00}


#### è«–ç†ã‚²ãƒ¼ãƒˆ {#c9132a}

-   And
-   Or
-   Xor
-   Not
-   Not16, And16, Or16, Mux16 ... 16 é€²æ•°ã® è«–ç†ã‚²ãƒ¼ãƒˆ


#### ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µ {#c7c621}

-   Mux ... ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µ
-   DMux ... ãƒ‡ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µ
-   Mux8Way16, DMux8Way, DMux4Way .. 16 é€²æ•°ã®ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µ


### week2:  CPU ã¸ {#e14484}


#### ç®—è¡“ã‚²ãƒ¼ãƒˆ {#91e245}

-   HalfAdder ... åŠåŠ ç®—å™¨
-   FullAdder ... å…¨åŠ ç®—å™¨

-   Add16 ... 16 é€²åŠ ç®—
-   Inc16 ... 16 é€²ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿


#### ALU {#0bf225}

-   ALU ... è«–ç†ç®—è¡“ã‚²ãƒ¼ãƒˆ


### week3: Memory ã¸ {#4a0098}


#### Memory {#4789f2}

-   Bit, Register ... ãƒ¬ã‚¸ã‚¹ã‚¿
-   RAM8, RAM16, RAM64, RAM512, RAM4K, RAM16K ... RAM


#### Counter {#64d129}

-   PC ... ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿


### week4:  æ©Ÿæ¢°èªã¸ {#a1071e}
