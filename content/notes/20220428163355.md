+++
title = "ğŸ“Clojure String"
tags = ["WIKI"]
draft = false
+++

Clojureã®æ–‡å­—ã®æ‰±ã„ã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‹.

up: [ğŸ“Clojure ãƒ•ã‚©ãƒ¼ãƒ ]({{< relref "20220505210059.md" >}})


## clojure.core {#clojure-dot-core}


### æ–‡å­—åˆ—ã®é•·ã•: **count** {#æ–‡å­—åˆ—ã®é•·ã•-count}

```clojure
(count "foo bar zzz")
; => 11
```


### æ–‡å­—æ•°åˆ¶é™: subs {#æ–‡å­—æ•°åˆ¶é™-subs}

**subs** ãŒè‰¯ã•ãã†. ãã®ã‚‚ã®ã‚ºãƒãƒªãªé–¢æ•°ã¯è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸ.

```clojure
(subs "ClojureScript" 0 4)
;; => "Cloj"
```

ãŸã ã—åˆ¶é™ã—ãŸã„æ–‡å­—æ•°æœªæº€ã ã¨ã‚¨ãƒ©ãƒ¼ã™ã‚‹ã®ã§å·¥å¤«ã¯å¿…è¦.

```clojure
(defn trunc
  [s n]
  (subs s 0 (min (count s) n)))

(defn truncate
  [s n]
  (apply str (take n s)))
```


### æ–‡å­—åˆ—ã‚’å«ã‚€ã‹ï¼Ÿ: includes? {#æ–‡å­—åˆ—ã‚’å«ã‚€ã‹-includes}

```clojure
(includes? s substr)
```


## clojure.string {#clojure-dot-string}

```clojure
(require '[clojure.string :as str])
```


### æ–‡å­—åˆ—ã‚’ã‚¹ãƒšãƒ¼ã‚¹ã§åˆ†å‰²ã™ã‚‹: split {#æ–‡å­—åˆ—ã‚’ã‚¹ãƒšãƒ¼ã‚¹ã§åˆ†å‰²ã™ã‚‹-split}

```clojure
(str/split "foo bar zzz" #" ")
; ["foo" "bar" "zzz"]
```

ãªãŠç¬¬2å¼•æ•°ã® **#** ã¯ãƒªãƒ¼ãƒ€ãƒã‚¯ãƒ­ã§ã‚ã‚ŠClojureã«ãŠã‘ã‚‹æ­£è¦è¡¨ç¾ã§ã‚ã‚‹ [java.util.regex.Pattern](#java-dot-util-dot-regex-dot-pattern)ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç¤ºã™.


### æ–‡å­—åˆ—ã‚’ç½®æ›ã™ã‚‹: replace {#æ–‡å­—åˆ—ã‚’ç½®æ›ã™ã‚‹-replace}

```clojure
(str/replace "The color is red" #"red" "blue")
```


### æ–‡å­—åˆ—ãƒªã‚¹ãƒˆã‚’çµåˆã™ã‚‹: {#æ–‡å­—åˆ—ãƒªã‚¹ãƒˆã‚’çµåˆã™ã‚‹}

[clojure.core/str](https://clojuredocs.org/clojure.core/str) ã‚’ã¤ã‹ã†ã®ãŒFirst Choice.

```clojure
(str "hoge" "huga")
;; => "hogehuga"
```

[clojure.string/join](https://clojuredocs.org/clojure.string/join) ã‚’ä½¿ãˆã‚‹ã¨better.

```clojure
user=> (clojure.string/join ", " [1 2 3])
;; => "1, 2, 3"
```


## Clojureãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ–‡å­—åˆ— {#clojureãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ–‡å­—åˆ—}

åŸºæœ¬çš„ã«ã¯ (str... )ãŒæ¥½ãªã®ã ã‘ã‚Œã©ã‚‚ã‚‚ã†å°‘ã—å‡ã‚‹å ´åˆã¯ [clojure.core/format](https://clojuredocs.org/clojure.core/format) ãŒã‚ˆã„.

ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¨˜æ³•ã¯ java.util.Formatterã¨åŒã˜(æ¤œç´¢çµæœã¯Javaã§æ¢ã—ãŸã»ã†ãŒè±Šå¯Œã‹ã‚‚).


### cl-format {#cl-format}

ã¨ã®ã“ã¨(-> [Clojure rounding to decimal places - Stack Overflow](https://stackoverflow.com/questions/10751638/clojure-rounding-to-decimal-places))

> cl-format should be used instead of format - format is only a thin wrapper around the java.util.Formatter and because of that it does not handle the Clojure's BigInt for example.

[cl-format - clojure.pprint | ClojureDocs - Community-Powered Clojure Documentation and Examples](https://clojuredocs.org/clojure.pprint/cl-format)


## Clojureã§ã®æ­£è¦è¡¨ç¾ {#clojureã§ã®æ­£è¦è¡¨ç¾}


### java.util.regex.Pattern {#java-dot-util-dot-regex-dot-pattern}

Clojureã®æ­£è¦è¡¨ç¾ã®ãƒãƒƒãƒãƒ£ãƒ¼ã¯ã“ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é§†ä½¿ã™ã‚‹. ã¤ã¾ã‚Šã‚ˆãã‚ã‹ã‚‰ãªãã¦ã¨ã‚Šã‚ãˆãšã‚³ãƒ”ãƒšã§å…ˆã«é€²ã¿ãŸã„ã¨ãã¯, ã€ŒJava æ­£è¦è¡¨ç¾ã€ã¨ã‹ã§ã‚°ã‚°ã‚Œã°ãŠã‘.

**re-pattern** ã§ç”Ÿæˆ(Pattern.compileç›¸å½“). ã¾ãŸã¯ãƒªãƒ¼ãƒ€ãƒã‚¯ãƒ­ **#** ã‚’ã¤ã‹ã†.


### æ–‡å­—åˆ—æŠ½å‡º: re-find {#æ–‡å­—åˆ—æŠ½å‡º-re-find}

re-findã¯æ­£è¦è¡¨ç¾ã«ä¸€è‡´ã—ãŸæ–‡å­—åˆ—ã‚’è¿”ã™. vectorã‚’è¿”ã—, ã¯ã˜ã‚ã®ã‚‚ã®ã¯å®Œå…¨ä¸€è‡´, æ®‹ã‚Šã¯éƒ¨åˆ†ä¸€è‡´ã®æ–‡å­—åˆ—ã‚’è¿”ã™.


## Clojureæ­£è¦è¡¨ç¾é€†å¼•ãHowto {#clojureæ­£è¦è¡¨ç¾é€†å¼•ãhowto}
