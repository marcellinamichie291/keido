+++
title = "ğŸ“bitFlyer"
lastmod = 2022-08-14T07:24:34+09:00
tags = ["WIKI"]
draft = false
+++

up: [ğŸ“ä»®æƒ³é€šè²¨å–å¼•æ‰€]({{< relref "20220717152344.md" >}})


## bitFlyer Lighting FX {#3cdab5}

å…¬å¼: [Lightning FX ï¼ˆãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ FXï¼‰ã¨ã¯](https://lightning.bitflyer.com/About-Fx)

> Lightning FX ã¨ã¯ã€è¨¼æ‹ é‡‘ã‚’é å…¥ã‚Œã€ä¸»ã«å·®é‡‘æ±ºæ¸ˆã«ã‚ˆã‚‹ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ã®å£²è²·ãŒè¡Œãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ãƒ¬ãƒãƒ¬ãƒƒã‚¸ã‚’ã‹ã‘ã‚‹ã“ã¨ã«ã‚ˆã‚Šè³‡é‡‘åŠ¹ç‡ã®è‰¯ã„æŠ•è³‡ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

-   ãƒ¬ãƒãƒ¬ãƒƒã‚¸2å€.
-   æœ€å°ç™ºæ³¨é‡ã¯0.01BTC.
-   å–å¼•æ‰€æ‰‹æ•°æ–™ã¯ç„¡æ–™.
-   è¨¼æ‹ é‡‘:
    -   ãƒ¬ãƒãƒ¬ãƒƒã‚¸2å€ã®å ´åˆã¯æ³¨æ–‡é‡‘é¡ x 50%.
    -   ãƒ¬ãƒãƒ¬ãƒƒã‚¸1å€ã®å ´åˆã¯æ³¨æ–‡é‡‘é¡ã®ã¿.

ãŸã¨ãˆã°1BTCãŒ30ä¸‡ã ã¨ã™ã‚‹ã¨. ãƒ¬ãƒãƒ¬ãƒƒã‚¸2å€ã§ã¯æœ€å°æ³¨æ–‡é‡0.01ã¨ã„ã†ã“ã¨ã¯15000å††ã§æ³¨æ–‡ã‚’ã‹ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ã‘ã .


## bitFlyer Futures FX {#5d4eaf}

å–å¼•é‡ãŒå°‘ãªã„, æ¿ãŒéç–é€šè²¨ã«ãªã£ã¦ã‚‹ã‚ˆ.

-   æœ€å°ç™ºæ³¨æ•°é‡ã¯ 0.001 BTC.


## ğŸ“bitFlyer boté–‹ç™º {#a64be7e5-368e-44d6-9dc2-f685d7b30c8e}

bitFlyerã‚’ç›¸æ‰‹ã«ã—ãŸboté–‹ç™ºã®çŸ¥è¦‹ã‚’è²¯ã‚ã‚‹.

çŒ«ã‚‚æ“å­ã‚‚HFTbotã¯bitflyerçš„ãªã¨ã“ã‚ãŒã‚ã‚‹.

-   bitFlyer Lighting FXãŒå–å¼•æ‰‹æ•°æ–™ç„¡æ–™(ç¾ç‰©ã¯ãŠé‡‘ã‹ã‹ã‚‹).
    -   ãŸã ã—è¨¼æ‹ é‡‘ã‚’äºˆã‚ã„ã‚Œã¦ãŠãå¿…è¦ãŒã‚ã‚‹.
-   æœ€å°ãƒ­ãƒƒãƒˆ: 0.001BTC

æ¦‚è«–ã¯ã“ã£ã¡[ğŸ“ä»®æƒ³é€šè²¨boté–‹ç™º]({{< relref "20220717145220.md" >}}).


### ğŸ“bitFlyer Lighting API {#becf06}

-   å…¬å¼doc: <https://lightning.bitflyer.com/docs/api?lang=ja>


### libraries {#550d74}

-   <https://github.com/yagays/pybitflyer>
-   [pybotters](https://github.com/MtkN1/pybotters/blob/main/pybotters/models/bitflyer.py)
-   [ccxt](https://github.com/ccxt/ccxt/blob/master/python/ccxt/bitflyer.py)
    -   [bitFlyer ccxtãƒ©ã‚¤ãƒ–ãƒ©ãƒª - Qiita](https://qiita.com/d_kvn/items/e38b9a21256fd38e65ba)


## <span class="org-todo todo _">âœ…</span> bitFlyer API Tips {#43c68b}


### æ­£å¸¸çµ‚äº† {#a987e4}

status=200, parase-reason: OKã¨ãªã‚‹ã®ã§status=200ã§åˆ¤æ–­ã™ã‚‹.

post ç³»ã®å ´åˆ, æ­£å¸¸çµ‚äº†ã™ã‚‹ã¨bodyãŒç©ºã®ã“ã¨ãŒã‚ã‚‹ã®ã§æ³¨æ„.


### <span class="org-todo todo _">ğŸ’¡</span> ã‚¨ãƒ©ãƒ¼æ™‚ã®æŒ¯ã‚‹èˆã„ {#48f32a}

statusãŒ200ä»¥å¤–ã®ã¨ãã¯, bodyã«è©³ç´°æƒ…å ±ãŒå…¥ã£ã¦ã„ã‚‹ã®ã§æ–‡å­—åˆ—JSONã‚’è§£æã—ã¦ä¸­èº«ã‚’å–ã‚Šå‡ºã™.

status/error_message/dataã®3ç¨®é¡ã®æƒ…å ±ãŒã‚ã‚‹. statusã¯ãƒã‚¤ãƒŠã‚¹ã®æ•°å€¤ã§ã‚ã‚Šhttp statusã¨ã¯é•ã†ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãªã®ã§æ³¨æ„.

---

ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§, æ‹¾ã„ç‰©.

ref. [[bitFlyer] ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§ã€éšæ™‚æ›´æ–°ã€‘ï½œã‚ã‚ã‚ã‚ï½œnote](https://note.com/17num/n/n6955c3a711a8)

```javascript
{"status": -1, "error_message": "Over API limit per minute", "data" :null}
{"status": -2, "error_message": "Under maintenance", "data" :null}
{"status": -100, "error_message": "Invalid product", "data": null}
{'status': -101, 'error_message': 'Invalid type of order', 'data': None}
{"status": -102, "error_message": "ç„¡åŠ¹ãªå£²è²·ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚", "data": null}
{"status": -103, "error_message": "ä¾¡æ ¼ã¯æ•´æ•°ã§ã”å…¥åŠ›ãã ã•ã„ã€‚", "data": null}
{"status": -104, "error_message": "Invalid order amount", "data": null}
{"status": -106, "error_message": "ä¾¡æ ¼ãŒä½ã™ãã¾ã™ã€‚", "data": null}
{"status": -107, "error_message": "The price is too high.", "data": null}
{'status': -111, 'error_message': 'Order not found', 'data': None}
{"status": -115, "error_message": "Not enough parameters.", "data": nil}
{"status": -121, "error_message": "åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¦ãã ã•ã„ã€‚", "data": null}
{"status": -122, "error_message": "Empty request body", "data": null}
{"status": -125, "error_message": "Invalid offset price.", "data": nil}
{'status': -153, 'error_message': 'æœ€ä½å–å¼•æ•°é‡ã¯ 0.01 BTC ã§ã™', 'data': None}
{"status": -156, "error_message": "Execution history is limited to the most recent 31 days.","data": null}
{"status": -200, "error_message": "Insufficient funds.", "data": null}
{'status': -203, 'error_message': 'æ³¨æ–‡æ•°ã®ä¸Šé™ã«é”ã—ã¦ã„ã¾ã™ã€‚', 'data': None}
{"status": -204, "error_message": "Market state is closed.", "data": null}
{'status': -205, 'error_message': 'æ³¨æ–‡ã«å¿…è¦ãªè¨¼æ‹ é‡‘ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚', 'data': None}
{"status": -208, "error_message": "Order is not accepted. Please try again later.", "data": null}
{'status': -500, 'error_message': 'Key not found', 'data': None}
{'status': -500, 'error_message': 'Invalid signature','data': None}
{'status': -500, 'error_message': 'Non-hexadecimal signature', 'data': None}
{'status': -501, 'error_message': 'ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚', 'data': None}
{"status": -503, "error_message": "ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚", "data": null}
{'status': -508, 'error_message': 'ç•°å¸¸ãªç™ºæ³¨ãŒã‚ã£ãŸãŸã‚ã€æ³¨æ–‡ã‚’ä¸€å®šæœŸé–“åˆ¶é™ã—ã¦ã„ã¾ã™ã€‚', 'data': None}
{'status': -509, 'error_message': 'Your ordering has been limited due to submitting an irregular number of orders.', 'data': None}
```


### <span class="org-todo todo _">âœ…</span> æ³¨æ–‡æƒ…å ±ã‚’ä¿®æ­£/æ›´æ–°ã™ã‚‹ã«ã¯ï¼Ÿ {#170a95}

edit_orderã¯ãªã„.

æ³¨æ–‡ã®ä¿®æ­£ã¯ãªã„ã®ã§, ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¦å†æ³¨æ–‡ã™ã‚‹.


### <span class="org-todo todo _">âœ…</span> æ³¨æ–‡çŠ¶æ³ã‚’ç¢ºèªã™ã‚‹ã«ã¯ï¼Ÿ {#113fb0}

æ–°è¦æ³¨æ–‡ã‚’å‡ºã™ã¨, child-order-acceptance-idãŒå¸°ã£ã¦ã‚‹. ã“ã®IDã‚’å…ƒã«çŠ¶æ³å–å¾—ã®APIã‚’å©ã(GET /v1/me/getchildorders).

```clojure
{:child-order-acceptance-id "JRF20220813-060xxx-0xxxxx"}
```


### <span class="org-todo todo _">ğŸ’¡</span> åŸ·è¡Œæ•°é‡æ¡ä»¶ã¨ã¯ {#4f4061}

åŸ·è¡Œæ•°é‡æ¡ä»¶ã¯æ³¨æ–‡ã‚’å‡ºã™ã¨ãã«æŒ‡å®šã§ãã‚‹(POST /me/vi/sendchildorder).

3ç¨®é¡ã®æ³¨æ–‡ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæŒ‡å®šã§ãã‚‹. postOnlyãŒãªã„.

-   GTC: Good 'Til Canceled
-   IOC: Immediate or Cancel
-   FOK: Fill or Kill

ref. <https://lightning.bitflyer.com/docs/specialorder>


### <span class="org-todo todo _">ğŸ’¡</span> è¦ªæ³¨æ–‡ã¨å­æ³¨æ–‡ã®é•ã„ã¯? {#7f7208}

æ³¨æ–‡ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒ‡å®šã—ãŸæ³¨æ–‡ã‚’ç™ºæ³¨ã™ã‚‹ã¨, ãã®æ³¨æ–‡ã‚’è¦ªæ³¨æ–‡(parent order)ã¨ã„ã†. (POST /v1/me/sendparentorder)

æ³¨æ–‡ç¨®åˆ¥ã¯3ç¨®é¡ã‚ã‚‹.

-   IFD: [IFDæ³¨æ–‡]({{< relref "20220716193437.md#345e733a-7fce-4bc3-8c1a-9efa6e3ddd25" >}})
-   OCO: [OCOæ³¨æ–‡]({{< relref "20220716193437.md#c3cd4fc1-fe7f-4b72-87ac-7cfc6627cc4d" >}})
-   IFDOCO: [IFOæ³¨æ–‡]({{< relref "20220716193437.md#b26e6fd5-00a2-4599-90ff-0255fee908fb" >}})

ref. [ğŸ”—bitFlyerç‰¹æ®Šæ³¨æ–‡](https://lightning.bitflyer.com/docs/specialorder)


### <span class="org-todo todo _">ğŸ’¡</span> child-order-idã¨child-order-acceptance-idã®é•ã„ã¯? {#6dd484}

```clojure
{:child-order-id             "JFX20220813-074643-xxxxxxF"
 :child-order-acceptance-id  "JRF20220813-074643-xxxxxx"}
```

æ±ºå®šçš„ãªè³‡æ–™ãŒãªã„ã®ã§ä»¥ä¸‹ã¯æ¨æ¸¬.

child-order-acceptance-idã¯APIã§æ³¨æ–‡ã‚’å‡ºã—ãŸã¨ãã«å³æ™‚ã«å¸°ã£ã¦ãã‚‹ID. ã“ã‚Œã‚’åˆ©ç”¨ã—ã¦APIã§ã¯ãã®å¾Œã®å‡¦ç†ãŒã§ãã‚‹(ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾—/æ³¨æ–‡ã‚­ãƒ£ãƒ³ã‚»ãƒ«).

child-order-idã¯æ³¨æ–‡ã‚’å‡ºã—ãŸAPIã¨ã¯åˆ¥ã«æƒ…å ±å–å¾—APIã§æ³¨æ–‡çŠ¶æ³ã‚’å–ã‚Šã«è¡Œã£ãŸã¨ãã«ç¾ã‚Œã‚‹(/me/v1/getchildorders). ã¾ãŸç”»é¢è¡¨ç¤ºã§è¡¨ç¤ºã•ã‚Œã‚‹ã®ã‚‚child-order-idã§ã‚ã‚Š, child-order-acceptacne-idã¯è¡¨ç¤ºã•ã‚Œãªã„.

ãŠãã‚‰ãå³æ™‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãŸã‚ã«ç™ºè¡Œã•ã‚Œã‚‹ä¸€æ™‚çš„ãªã‚‚ã¨, ãã®å¾Œã‚·ã‚¹ãƒ†ãƒ ã§ã„ã‚ã„ã‚å‡¦ç†ã—ãŸã‚ã¨ã«ä»˜ä¸ã•ã‚Œã‚‹IDãŒã‚ã‚Š, ãªãœãã†ãªã£ã¦ã„ã‚‹ã®ã‹ã¯ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆã®è©±ã§ã‚ˆãã‚ã‹ã‚‰ãªã„. ãŸã ã—clientã‹ã‚‰æ³¨æ–‡ã‚’æ“ä½œã™ã‚‹å ´åˆ, child-acceptance-idã‚’è¦šãˆã¦ãŠã‘ã°å›°ã‚‹ã“ã¨ã¯ãªã„ã®ã§ã“ã‚Œã‚’ä¸€æ„ã®IDã§æ‰±ã£ã¦ã„ã„.

---

Twitterã§æ¤œç´¢ã‚’ã‹ã‘ã‚‹ã¨, responseã«child-order-acceptance-idãŒãªã„ã‚±ãƒ¼ã‚¹ã‚„{buf,sell}_child_order_acceptance_idãŒç´„ä½å±¥æ­´ã«ç¾ã‚Œã‚‹ãªã©, ã‚ˆãã‚ã‹ã‚‰ãªã„ä»•æ§˜.

<https://twitter.com/search?q=child_order_acceptance_id&src=typed_query&f=live>

ãƒã‚°ãªã®ã‹? ã‚ˆãã‚ã‹ã‚‰ãšã«ã‘ã£ã“ã†ã¿ã‚“ãªæ‚©ã‚“ã§ã„ã‚‹.


### ç´„ä½æƒ…å ±é…å»¶ã¨æ¿è‡ªç‚Šå¯¾ç­– {#cfff61}

websocketçµŒç”±ã®ç´„å®šæƒ…å ±å–å¾—ãŒãŸã¾ã«3-5secé…å»¶ã™ã‚‹. ã—ã‹ã—ã ã„ãŸã„1secä»¥å†…ã«ã¯é…ä¿¡ã•ã‚Œã‚‹.

-   [[Python Websocket JSON-RPC OHLCV] bitFlyer ã®ç´„å®šæƒ…å ±ã®é…å»¶è¨ˆæ¸¬çµæœï½œã‚ã‚ã‚ã‚ï½œnote](https://note.com/17num/n/nd2d6017c1dca)

ã“ã‚Œã«å¯¾ã—ã¦tickæƒ…å ±ã‹ã‚‰æ¿æƒ…å ±ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«æ§‹ç¯‰ã—ã¦ãã‚Œã§ç´„å®šåˆ¤æ–­ã‚’ã™ã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚‹.

-   [ãƒã‚¸ã‚·ãƒ§ãƒ³è‡ªç‚Šã—ã¦é«˜é€Ÿã«å£²è²·ã‚’è¡Œã†BitFlyerã§ã®é«˜é€Ÿbotãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï½œãã‚‚ã™ã‘ï½œnote](https://note.com/kunmosky1/n/n6496da8285c0)

éƒ¨åˆ†ç´„å®šã‚‚å†ç¾ã§ãã‚‹ã¨ã‹.

-   <https://twitter.com/regolith1223/status/1092372320247734275>


## bitFlyerè©•åˆ¤ã¾ã¨ã‚ {#d061b8}
