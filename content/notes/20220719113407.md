+++
title = "ğŸ“bitFlyer"
lastmod = 2022-08-30T06:08:16+09:00
tags = ["WIKI"]
draft = false
+++

up: [ğŸ“ä»®æƒ³é€šè²¨å–å¼•æ‰€]({{< relref "20220717152344.md" >}})


## bitFlyer Lighting FX {#3cdab5}

å…¬å¼: [Lightning FX ï¼ˆãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ FXï¼‰ã¨ã¯](https://lightning.bitflyer.com/About-Fx)

> Lightning FX ã¨ã¯ã€è¨¼æ‹ é‡‘ã‚’é å…¥ã‚Œã€ä¸»ã«å·®é‡‘æ±ºæ¸ˆã«ã‚ˆã‚‹ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ã®å£²è²·ãŒè¡Œãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ãƒ¬ãƒãƒ¬ãƒƒã‚¸ã‚’ã‹ã‘ã‚‹ã“ã¨ã«ã‚ˆã‚Šè³‡é‡‘åŠ¹ç‡ã®è‰¯ã„æŠ•è³‡ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

-   ãƒ¬ãƒãƒ¬ãƒƒã‚¸2å€.
-   æœ€å°ç™ºæ³¨é‡ã¯0.01BTC.
-   å–å¼•æ‰€æ‰‹æ•°æ–™ã¯ç„¡æ–™.
-   è¨¼æ‹ é‡‘:
    -   ãƒ¬ãƒãƒ¬ãƒƒã‚¸2å€ã®å ´åˆã¯æ³¨æ–‡é‡‘é¡ x 50%.
    -   ãƒ¬ãƒãƒ¬ãƒƒã‚¸1å€ã®å ´åˆã¯æ³¨æ–‡é‡‘é¡ã®ã¿.

ãŸã¨ãˆã°1BTCãŒ30ä¸‡ã ã¨ã™ã‚‹ã¨. ãƒ¬ãƒãƒ¬ãƒƒã‚¸2å€ã§ã¯æœ€å°æ³¨æ–‡é‡0.01ã¨ã„ã†ã“ã¨ã¯15000å††ã§æ³¨æ–‡ã‚’ã‹ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ã‘


## bitFlyer Futures FX {#5d4eaf}

å–å¼•é‡ãŒå°‘ãªã„, æ¿ãŒéç–é€šè²¨ã«ãªã£ã¦ã‚‹ã‚ˆ.

-   æœ€å°ç™ºæ³¨æ•°é‡ã¯ 0.001 BTC.


## ğŸ“bitFlyer boté–‹ç™º {#a64be7e5-368e-44d6-9dc2-f685d7b30c8e}

bitFlyerã‚’ç›¸æ‰‹ã«ã—ãŸboté–‹ç™ºã®çŸ¥è¦‹ã‚’è²¯ã‚ã‚‹.

çŒ«ã‚‚æ“å­ã‚‚HFTbotã¯bitflyerçš„ãªã¨ã“ã‚ãŒã‚ã‚‹.

-   bitFlyer Lighting FXãŒå–å¼•æ‰‹æ•°æ–™ç„¡æ–™(ç¾ç‰©ã¯ãŠé‡‘ã‹ã‹ã‚‹).
    -   ãŸã ã—è¨¼æ‹ é‡‘ã‚’äºˆã‚ã„ã‚Œã¦ãŠãå¿…è¦ãŒã‚ã‚‹.
-   æœ€å°ãƒ­ãƒƒãƒˆ: 0.001BTC

æ¦‚è«–ã¯ã“ã£ã¡[ğŸ“ä»®æƒ³é€šè²¨boté–‹ç™º]({{< relref "20220717145220.md" >}}).


### ğŸ“bitFlyer Lighting API {#becf06}

-   å…¬å¼doc: <https://lightning.bitflyer.com/docs/api?lang=ja>


### libraries {#550d74}

-   <https://github.com/yagays/pybitflyer>
-   [pybotters](https://github.com/MtkN1/pybotters/blob/main/pybotters/models/bitflyer.py)
-   [ccxt](https://github.com/ccxt/ccxt/blob/master/python/ccxt/bitflyer.py)
    -   [bitFlyer ccxtãƒ©ã‚¤ãƒ–ãƒ©ãƒª - Qiita](https://qiita.com/d_kvn/items/e38b9a21256fd38e65ba)


## <span class="org-todo todo _">ğŸ”</span> bitFlyer API Specs {#d9c345}


### APIåˆ¶é™ {#3ef075}

-   åŒã˜IPã‚¢ãƒ‰ãƒ¬ã‚¹: 5 åˆ†é–“ã§ 500 å›
-   0.1 ä»¥ä¸‹ã®æ•°é‡ã®æ³¨æ–‡: 1 åˆ†é–“ã§ 100 å›
-   Private API: 5 åˆ†é–“ã§ 500 å›
-   ä¸‹è¨˜ã®Private API: åˆè¨ˆã§5 åˆ†é–“ã§ 300 å›
    -   æ–°è¦æ³¨æ–‡ã‚’å‡ºã™(POST /v1/me/sendchildorder9
    -   æ–°è¦ã®è¦ªæ³¨æ–‡ã‚’å‡ºã™ï¼ˆç‰¹æ®Šæ³¨æ–‡ï¼‰(POST /v1/me/sendparentorder)
    -   ã™ã¹ã¦ã®æ³¨æ–‡ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹(POST /v1/me/cancelallchildorders)

ref. [Proxy Manager ã‚’åˆ©ç”¨ã—ã¦CCXT ã® Too Many Requests ã‚’å›é¿ã—ãŸè©±ï½œãã‚Šã·ã¨ã¹ã‚ãƒ¼ï½œnote](https://note.com/cryptoo_bear/n/nea07a1a7fe38)


### æˆè¡Œæ³¨æ–‡ {#507696}

POST /v1/me/sendchildorderã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ã¨, child_order_acceptance_idã®ã¿ãŒå³æ™‚ãƒªã‚¿ãƒ¼ãƒ³ã™ã‚‹. ã“ã‚Œã¯ä»®ã®å€¤ãªã®ã§, æ³¨æ–‡ä¸€è¦§(GET /v1/me/getchildorders
)ã‚„ç´„å®šä¸€è¦§(GET /v1/me/getexecutions)ã§çµæœã‚’ç¢ºèªã™ã‚‹.

GET /v1/me/getchildordersã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹. priceã¯0.0ã§, average-priceã«å€¤ãŒã¯ã„ã£ã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„.

```clojure
{:expire-date = "2022-09-23T11:08:58"
 :time-in-force = "GTC"
 :cancel-size = 0.0
 :outstanding-size = 0.0
 :child-order-state = "COMPLETED"
 :child-order-acceptance-id = "JRF20220824-110858-xxx"
 :size = 0.01
 :average-price = 2914681.0
 :total-commission = 0.0
 :id = 26921xxxxx
 :executed-size = 0.01
 :product-code = "FX_BTC_JPY"
 :side = "SELL"
 :child-order-date = "2022-08-24T11:08:59"
 :price = 0.0
 :child-order-id = "JFX20220824-110859-xxx"
 :child-order-type = "MARKET"}
```

GET /v1/me/getchildordersã®å–å¾—çµæœ. idã¯order-idã¨ã¯ç•°ãªã‚‹. dateã¯msecã¾ã§å–å¾—ã§ãã‚‹.

```clojure
{:id = 2379649xxx
 :side = "SELL"
 :price = 2914681.0
 :size = 0.01
 :exec-date = "2022-08-24T11:08:59.153"
 :child-order-id = "JFX20220824-110859-058xxxF"
 :commission = 0.0
 :child-order-acceptance-id = "JRF20220824-110858-045xxx"}
```

---

æˆè¡Œæ³¨æ–‡ã¯åˆ†å‰²ã•ã‚Œã¦ç´„å®šã™ã‚‹ã“ã¨ã‚‚ãŠãŠã„(éƒ¨åˆ†ç´„å®š). éƒ¨åˆ†ç´„å®šã—ã¦ã‚‚å…¨ã¦åŒä¸€ã®æ³¨æ–‡IDï¼ˆorder_acceptance_idï¼‰ã§è¨˜éŒ²ã•ã‚Œã‚‹.

ãŸã ã—ç´„å®šå±¥æ­´å–å¾—ã§ã¯åˆ†å‰²ã•ã‚ŒãŸå±¥æ­´ãŒå–å¾—ã§ãã‚‹ã‚‚ã®ã®, æ³¨æ–‡å±¥æ­´å–å¾—ã ã¨éƒ¨åˆ†ç´„å®šã¯å–å¾—ã§ããš, average-priceã‚‚è¨ˆç®—ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹.

ref:  [BitflyerFXã§CCXTã‚’ä½¿ã£ã¦æˆè¡Œæ³¨æ–‡ã‚’å‡ºã—ãã®åŸ·è¡Œä¾¡æ ¼ã‚’å–å¾—ã™ã‚‹æ–¹æ³•](https://ryota-trade.com/?p=2649)


### Ticker {#277033}

GET /v1/getticker, GET /v1/ticker.

```clojure
{ :ltp = 2788286.0
  :tick-id = 320000452
  :best-ask-size = 0.07801252
  :total-ask-depth = 229.08360093
  :market-ask-size = 0.0
  :best-bid = 2788287.0
  :state = "RUNNING"
  :market-bid-size = 0.0
  :best-bid-size = 0.01
  :volume = 10762.07551354
  :product-code = "FX_BTC_JPY"
  :total-bid-depth = 388.3831962
  :timestamp = "2022-08-29T21:04:58.707"
  :best-ask = 2789325.0
  :volume-by-product = 10759.33251354}
```


## âœ…bitFlyeré…å»¶å•é¡Œã¨å¯¾ç­– {#bc089255-9ec0-4759-bc79-170ac385e520}

bitFlyerã®ã‚µãƒ¼ãƒå‡¦ç†ãŒé…å»¶ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å¼•ãèµ·ã“ã•ã‚Œã‚‹è«¸å•é¡Œã¨å¯¾ç­–.

ã“ã®å•é¡Œã¯ãªã‹ãªã‹æ·±åˆ»ãªå•é¡Œã§ã‚ã‚Šã¿ã‚“ãªæ‚©ã‚“ã§ã„ã‚‹. ã“ã®ãƒšãƒ¼ã‚¸ã®åˆ†é¡ãŒã‚ã‹ã‚Šã‚„ã™ã„.

ref. [BitflyerFXã§æ³¨æ–‡ãŒæ¶ˆãˆãŸã‚Šã€ç´„å®šæ‹’å¦ã‚„äºŒé‡æ³¨æ–‡ã«ãªã‚‹å ´åˆã®å¯¾ç­–ã‚³ãƒ¼ãƒ‰](https://ryota-trade.com/?p=5110)

-   æ³¨æ–‡é…å»¶: æŒ‡å€¤æ³¨æ–‡ã¯å—ç†ã•ã‚ŒãŸãŒæœªç´„å®š/å»ºç‰ä¸€è¦§ã«æœªåæ˜ ã§æ•°åç§’-æ•°åˆ†çµŒé.
-   ã‚¹ãƒ¬é•ã„: æŒ‡å€¤æ³¨æ–‡ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¤±æ•—. ãƒªã‚¯ã‚¨ã‚¹ãƒˆè‡ªä½“ã¯æ­£å¸¸å¿œç­”.
-   æ³¨æ–‡æ¶ˆå¤±: å‡ºã—ãŸã¯ãšã®æ³¨æ–‡ãŒæ¶ˆãˆã‚‹.
-   äºŒé‡æ³¨æ–‡: æ³¨æ–‡ãŒé€šä¿¡ã‚¨ãƒ©ãƒ¼ã®ãŸã‚ãƒªãƒˆãƒ©ã‚¤ã™ã‚‹ã¨å®Ÿã¯å‰å›ã®æ³¨æ–‡ãŒå—ç†æ¸ˆã¿.

å•é¡Œç‚¹ã¯, POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ­£å¸¸çµ‚äº†ã¯ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã®æ­£å¸¸çµ‚äº†ã‚’æ„å‘³ã—ãªã„ã¨ã„ã†ã“ã¨. ã‚µãƒ¼ãƒå´ã«å±Šã„ãŸã‚‰ã‚µãƒ¼ãƒã¯å³æ™‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§200ã‚’è¿”ã™ãŒãã®ã‚ã¨ã®å‡¦ç†ã¯ã‚µãƒ¼ãƒã®è² è·ã«å¾“ã£ã¦é †æ¬¡å‡¦ç†ã•ã‚Œã‚‹.

ãã®ãŸã‚, å¯¾ç­–ã¨ã—ã¦POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆå¾Œã§child_order_acceptance_idãŒå¸°ã£ã¦ããŸã‚‰ãã®IDã«å¯¾ã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å–å¾—ã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ç¢ºèª & child_order_idã‚’æ‰‹ã«å…¥ã‚Œã‚‹ã“ã¨. child_order_idãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã‚‹ã¨ãã®acceptance_idã¯ã‚µãƒ¼ãƒã§å‡¦ç†ã•ã‚ŒãŸã“ã¨ã«ãªã‚‹.

-   [é…å»¶ãŒã‚ã‚‹ã¨ãã®mmbotã®æŒ™å‹• - ã‚­ã‚¸ãƒˆãƒ©ã®ãƒ–ãƒ­ã‚°](https://kijitora-2018.hatenablog.com/entry/2018/12/29/131359)

---

å‰åŠã¯ä¸€èˆ¬çš„ãª[åœ¨åº«ç®¡ç†]({{< relref "20220716193728.md#bd0e46f7-839f-430d-a940-9faa52b0176c" >}})ã®è©±. å¾ŒåŠãŒbitFlyerã®é…å»¶ã¨ãã®å¯¾ç­–.

[ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ»ãƒ¡ã‚¤ã‚¯ã«ãŠã‘ã‚‹åœ¨åº«ç®¡ç†ã¨å®Ÿé‹ç”¨ä¸Šã®æ‡¸å¿µç‚¹ï½œHoheto (ä»®æƒ³é€šè²¨botter)ï½œnote](https://note.com/hht/n/n868b0c36bfac)


## <span class="org-todo todo _">âœ…</span> bitFlyer API Tips {#43c68b}


### æ­£å¸¸çµ‚äº† {#a987e4}

status=200, parase-reason: OKã¨ãªã‚‹ã®ã§status=200ã§åˆ¤æ–­ã™ã‚‹.

post ç³»ã®å ´åˆ, æ­£å¸¸çµ‚äº†ã™ã‚‹ã¨bodyãŒç©ºã®ã“ã¨ãŒã‚ã‚‹ã®ã§æ³¨æ„.


### æ³¨æ–‡ã«å¯¾ã™ã‚‹post requestã¯æƒ…å ±å–å¾—ã—ã¦æˆåŠŸåˆ¤æ–­ {#59bb80}

open/close/cancelã®ã‚ˆã†ãªæ³¨æ–‡ã‚’æ“ä½œã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡ºã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰ã¯ãã®é€šä¿¡ãŒæˆåŠŸã—ãŸã‹ã©ã†ã‹ãŒã‚ã‹ã‚‰ãªã„ã®ã§, åˆ¥é€”çŠ¶æ…‹å–å¾—ã®API(GET /v1/me/getchildordersã§çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹.

ãŸã¨ãˆã°, ã™ã§ã«COMPLETEDã—ãŸæ³¨æ–‡ã«ã—ã¦CANCELã‚’ãªã’ã¦ã‚‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯æ­£å¸¸çµ‚äº†ã«ãªã‚‹. {:status 200, :reason-phrase "OK", :body nil}

post requestã®æ­£å¸¸çµ‚äº†ã‚’ä¾é ¼ã®æ­£å¸¸çµ‚äº†ã¨åˆ¤æ–­ã—ã¦ã¯ã„ã‘ãªã„. æƒ…å ±å–å¾—ã‚’ã—ãªã„ã¨åˆ¤æ–­ã«ã¯ä½¿ãˆãªã„.


### order status CANCELEDã¨ã¯éƒ¨åˆ†ç´„å®š {#6528c4}

cancelã®APIã§cancelã‚’ã—ãŸã‚ã¨ã« æ³¨æ–‡æƒ…å ±ã‚’å–å¾—ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ãªã«ã‚‚ã‹ã‹ã£ã¦ã“ãªã„(æ­£å¸¸çµ‚äº†).

éƒ¨åˆ†ç´„å®šãŒç™ºç”Ÿã—ãŸã¨ã, ãã®IDã®æ³¨æ–‡æƒ…å ±ã‚’å–å¾—ã—ã‚ˆã†ã¨ã™ã‚‹ã¨, CANCELEDã¨ã„ã†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«ãªã£ã¦ã„ã‚‹.

ã¤ã¾ã‚Š, éƒ¨åˆ†ç´„å®šãŒç™ºç”Ÿã—ãŸçµæœæœ€ä½æ³¨æ–‡é‡ã®0.01ã‚’ä¸‹å›ã‚‹ã¨è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹.


### <span class="org-todo todo _">ğŸ’¡</span> ã‚¨ãƒ©ãƒ¼æ™‚ã®æŒ¯ã‚‹èˆã„ {#48f32a}

statusãŒ200ä»¥å¤–ã®ã¨ãã¯, bodyã«è©³ç´°æƒ…å ±ãŒå…¥ã£ã¦ã„ã‚‹ã®ã§æ–‡å­—åˆ—JSONã‚’è§£æã—ã¦ä¸­èº«ã‚’å–ã‚Šå‡ºã™.

status/error_message/dataã®3ç¨®é¡ã®æƒ…å ±ãŒã‚ã‚‹. statusã¯ãƒã‚¤ãƒŠã‚¹ã®æ•°å€¤ã§ã‚ã‚Šhttp statusã¨ã¯é•ã†ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãªã®ã§æ³¨æ„.

---

ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§, æ‹¾ã„ç‰©.

ref. [[bitFlyer] ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§ã€éšæ™‚æ›´æ–°ã€‘ï½œã‚ã‚ã‚ã‚ï½œnote](https://note.com/17num/n/n6955c3a711a8)

```javascript
{"status": -1, "error_message": "Over API limit per minute", "data" :null}
{"status": -2, "error_message": "Under maintenance", "data" :null}
{"status": -100, "error_message": "Invalid product", "data": null}
{'status': -101, 'error_message': 'Invalid type of order', 'data': None}
{"status": -102, "error_message": "ç„¡åŠ¹ãªå£²è²·ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚", "data": null}
{"status": -103, "error_message": "ä¾¡æ ¼ã¯æ•´æ•°ã§ã”å…¥åŠ›ãã ã•ã„ã€‚", "data": null}
{"status": -104, "error_message": "Invalid order amount", "data": null}
{"status": -106, "error_message": "ä¾¡æ ¼ãŒä½ã™ãã¾ã™ã€‚", "data": null}
{"status": -107, "error_message": "The price is too high.", "data": null}
{'status': -111, 'error_message': 'Order not found', 'data': None}
{"status": -115, "error_message": "Not enough parameters.", "data": nil}
{"status": -121, "error_message": "åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¦ãã ã•ã„ã€‚", "data": null}
{"status": -122, "error_message": "Empty request body", "data": null}
{"status": -125, "error_message": "Invalid offset price.", "data": nil}
{'status': -153, 'error_message': 'æœ€ä½å–å¼•æ•°é‡ã¯ 0.01 BTC ã§ã™', 'data': None}
{"status": -156, "error_message": "Execution history is limited to the most recent 31 days.","data": null}
{"status": -200, "error_message": "Insufficient funds.", "data": null}
{'status': -203, 'error_message': 'æ³¨æ–‡æ•°ã®ä¸Šé™ã«é”ã—ã¦ã„ã¾ã™ã€‚', 'data': None}
{"status": -204, "error_message": "Market state is closed.", "data": null}
{'status': -205, 'error_message': 'æ³¨æ–‡ã«å¿…è¦ãªè¨¼æ‹ é‡‘ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚', 'data': None}
{"status": -208, "error_message": "Order is not accepted. Please try again later.", "data": null}
{'status': -500, 'error_message': 'Key not found', 'data': None}
{'status': -500, 'error_message': 'Invalid signature','data': None}
{'status': -500, 'error_message': 'Non-hexadecimal signature', 'data': None}
{'status': -501, 'error_message': 'ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚', 'data': None}
{"status": -503, "error_message": "ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚", "data": null}
{'status': -508, 'error_message': 'ç•°å¸¸ãªç™ºæ³¨ãŒã‚ã£ãŸãŸã‚ã€æ³¨æ–‡ã‚’ä¸€å®šæœŸé–“åˆ¶é™ã—ã¦ã„ã¾ã™ã€‚', 'data': None}
{'status': -509, 'error_message': 'Your ordering has been limited due to submitting an irregular number of orders.', 'data': None}
```


### <span class="org-todo todo _">âœ…</span> æ³¨æ–‡æƒ…å ±ã‚’ä¿®æ­£/æ›´æ–°ã™ã‚‹ã«ã¯ï¼Ÿ {#170a95}

edit_orderã¯ãªã„. æ³¨æ–‡ã®ä¿®æ­£ã¯ãªã„ã®ã§, ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¦å†æ³¨æ–‡ã™ã‚‹.


### <span class="org-todo todo _">âœ…</span> æ³¨æ–‡çŠ¶æ³ã‚’ç¢ºèªã™ã‚‹ã«ã¯ï¼Ÿ {#113fb0}

æ–°è¦æ³¨æ–‡ã‚’å‡ºã™ã¨, child-order-acceptance-idãŒå¸°ã£ã¦ã‚‹. ã“ã®IDã‚’å…ƒã«çŠ¶æ³å–å¾—ã®APIã‚’å©ã(GET /v1/me/getchildorders).

```clojure
{:child-order-acceptance-id "JRF20220813-060xxx-0xxxxx"}
```


### <span class="org-todo todo _">ğŸ’¡</span> postOnlyãŒãªã„ {#1db513}

æ©Ÿèƒ½ã¨ã—ã¦ãªã„. ãã®ãŸã‚æŒ‡å€¤ã¯æˆè¡Œã§ç´„å®šã™ã‚‹ã“ã¨ã¯ã‚ã‚‹.


### <span class="org-todo todo _">ğŸ’¡</span> åŸ·è¡Œæ•°é‡æ¡ä»¶ã¨ã¯ {#4f4061}

åŸ·è¡Œæ•°é‡æ¡ä»¶ã¯æ³¨æ–‡ã‚’å‡ºã™ã¨ãã«æŒ‡å®šã§ãã‚‹(POST /me/vi/sendchildorder).

3ç¨®é¡ã®æ³¨æ–‡ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæŒ‡å®šã§ãã‚‹.

-   GTC: Good 'Til Canceled
-   IOC: Immediate or Cancel
-   FOK: Fill or Kill

ref. <https://lightning.bitflyer.com/docs/specialorder>


### <span class="org-todo todo _">ğŸ’¡</span> è¦ªæ³¨æ–‡ã¨å­æ³¨æ–‡ã®é•ã„ã¯? {#7f7208}

æ³¨æ–‡ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒ‡å®šã—ãŸæ³¨æ–‡ã‚’ç™ºæ³¨ã™ã‚‹ã¨, ãã®æ³¨æ–‡ã‚’è¦ªæ³¨æ–‡(parent order)ã¨ã„ã†. (POST /v1/me/sendparentorder)

æ³¨æ–‡ç¨®åˆ¥ã¯3ç¨®é¡ã‚ã‚‹.

-   IFD: [IFDæ³¨æ–‡]({{< relref "20220716193437.md#345e733a-7fce-4bc3-8c1a-9efa6e3ddd25" >}})
-   OCO: [OCOæ³¨æ–‡]({{< relref "20220716193437.md#c3cd4fc1-fe7f-4b72-87ac-7cfc6627cc4d" >}})
-   IFDOCO: [IFOæ³¨æ–‡]({{< relref "20220716193437.md#b26e6fd5-00a2-4599-90ff-0255fee908fb" >}})

ref. [ğŸ”—bitFlyerç‰¹æ®Šæ³¨æ–‡](https://lightning.bitflyer.com/docs/specialorder)


### <span class="org-todo todo _">ğŸ’¡</span> child-order-idã¨child-order-acceptance-idã®é•ã„ã¯? {#6dd484}

```clojure
{:child-order-id             "JFX20220813-074643-xxxxxxF"
 :child-order-acceptance-id  "JRF20220813-074643-xxxxxx"}
```

æ±ºå®šçš„ãªè³‡æ–™ãŒãªã„ã®ã§ä»¥ä¸‹ã¯æ¨æ¸¬.

child-order-acceptance-idã¯APIã§æ³¨æ–‡ã‚’å‡ºã—ãŸã¨ãã«å³æ™‚ã«å¸°ã£ã¦ãã‚‹ID. ã“ã‚Œã‚’åˆ©ç”¨ã—ã¦APIã§ã¯ãã®å¾Œã®å‡¦ç†ãŒã§ãã‚‹(ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾—/æ³¨æ–‡ã‚­ãƒ£ãƒ³ã‚»ãƒ«).

child-order-idã¯æ³¨æ–‡ã‚’å‡ºã—ãŸAPIã¨ã¯åˆ¥ã«æƒ…å ±å–å¾—APIã§æ³¨æ–‡çŠ¶æ³ã‚’å–ã‚Šã«è¡Œã£ãŸã¨ãã«ç¾ã‚Œã‚‹(/me/v1/getchildorders). ã¾ãŸç”»é¢è¡¨ç¤ºã§è¡¨ç¤ºã•ã‚Œã‚‹ã®ã‚‚child-order-idã§ã‚ã‚Š, child-order-acceptacne-idã¯è¡¨ç¤ºã•ã‚Œãªã„.

ãŠãã‚‰ãå³æ™‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãŸã‚ã«ç™ºè¡Œã•ã‚Œã‚‹ä¸€æ™‚çš„ãªã‚‚ã¨, ãã®å¾Œã‚·ã‚¹ãƒ†ãƒ ã§ã„ã‚ã„ã‚å‡¦ç†ã—ãŸã‚ã¨ã«ä»˜ä¸ã•ã‚Œã‚‹IDãŒã‚ã‚Š, ãªãœãã†ãªã£ã¦ã„ã‚‹ã®ã‹ã¯ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆã®è©±ã§ã‚ˆãã‚ã‹ã‚‰ãªã„. ãŸã ã—clientã‹ã‚‰æ³¨æ–‡ã‚’æ“ä½œã™ã‚‹å ´åˆ, child-acceptance-idã‚’è¦šãˆã¦ãŠã‘ã°å›°ã‚‹ã“ã¨ã¯ãªã„ã®ã§ã“ã‚Œã‚’ä¸€æ„ã®IDã§æ‰±ã£ã¦ã„ã„.

---

Twitterã§æ¤œç´¢ã‚’ã‹ã‘ã‚‹ã¨, responseã«child-order-acceptance-idãŒãªã„ã‚±ãƒ¼ã‚¹ã‚„{buf,sell}_child_order_acceptance_idãŒç´„ä½å±¥æ­´ã«ç¾ã‚Œã‚‹ãªã©, ã‚ˆãã‚ã‹ã‚‰ãªã„ä»•æ§˜.

<https://twitter.com/search?q=child_order_acceptance_id&src=typed_query&f=live>

ãƒã‚°ãªã®ã‹? ã‚ˆãã‚ã‹ã‚‰ãšã«ã‘ã£ã“ã†ã¿ã‚“ãªæ‚©ã‚“ã§ã„ã‚‹.

---

child-acceptance-idãŒç™ºè¡Œã•ã‚ŒãŸã‘ã©child-order-idãŒä»˜ä¸ã•ã‚Œã¦ãªã„ã¨ã„ã†ã“ã¨ã¯ã‚µãƒ¼ãƒå´ã®å‡¦ç†ãŒã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã ã¨ã™ã‚‹ã¨, acceptance-idã«å¯¾ã—ã¦è¿½åŠ ã§postå‡¦ç†ã‚’ã™ã‚‹ã¨é…å»¶å•é¡Œã«ç™ºå±•ã™ã‚‹å¯èƒ½æ€§ã‚ã‚Š.

[âœ…bitFlyeré…å»¶å•é¡Œã¨å¯¾ç­–](#bc089255-9ec0-4759-bc79-170ac385e520)


### ç´„ä½æƒ…å ±é…å»¶ã¨æ¿è‡ªç‚Šå¯¾ç­– {#cfff61}

websocketçµŒç”±ã®ç´„å®šæƒ…å ±å–å¾—ãŒãŸã¾ã«3-5secé…å»¶ã™ã‚‹. ã—ã‹ã—ã ã„ãŸã„1secä»¥å†…ã«ã¯é…ä¿¡ã•ã‚Œã‚‹.

-   [[Python Websocket JSON-RPC OHLCV] bitFlyer ã®ç´„å®šæƒ…å ±ã®é…å»¶è¨ˆæ¸¬çµæœï½œã‚ã‚ã‚ã‚ï½œnote](https://note.com/17num/n/nd2d6017c1dca)

ã“ã‚Œã«å¯¾ã—ã¦tickæƒ…å ±ã‹ã‚‰æ¿æƒ…å ±ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«æ§‹ç¯‰ã—ã¦ãã‚Œã§ç´„å®šåˆ¤æ–­ã‚’ã™ã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚‹.

-   [ãƒã‚¸ã‚·ãƒ§ãƒ³è‡ªç‚Šã—ã¦é«˜é€Ÿã«å£²è²·ã‚’è¡Œã†BitFlyerã§ã®é«˜é€Ÿbotãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï½œãã‚‚ã™ã‘ï½œnote](https://note.com/kunmosky1/n/n6496da8285c0)

éƒ¨åˆ†ç´„å®šã‚‚å†ç¾ã§ãã‚‹ã¨ã‹.

-   <https://twitter.com/regolith1223/status/1092372320247734275>

---

-   <https://github.com/Ros522/backtestlob>


### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ™‚é–“å¯¾ç­– {#9e1e7e}

bitFlyerã¯(2022ç¾åœ¨), æ¯æ—¥4:00-4:10ãŒå®šæ™‚ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŸã‚ã“ã®æ™‚é–“ã«botã‚’åœæ­¢ã™ã‚‹å¿…è¦ãŒã‚ã‚‹.

ref. [ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„](https://bitflyer.com/ja-jp/faq/9-25)

ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã¯æ–°è¦æ³¨æ–‡, ç´„å®šã¯ä¸å¯. ä¾¡æ ¼ã®å–å¾—ã¯ã§ãã‚‹.

ã¾ãŸã“ã‚Œã¨ã¯åˆ¥ã«ä¸å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚‚ã‚ã‚‹ã®ã§æ­£ç¢ºã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å›é¿ã™ã‚‹ãŸã‚ã«ã¯
APIã«ã‚ˆã‚‹å–å¼•æ‰€ã®çŠ¶æ…‹å–å¾—ãŒå¿…è¦. GET /v1/gethealthã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã¯STOPã§ã¯ãªãNORMALã‚’è¿”ã™ã“ã¨ã«æ³¨æ„.


### ğŸ’¡bitFlyer ã‚µãƒ¼ãƒçŠ¶æ…‹ç›£è¦– {#e8ee2e}

bitFlyerã®è² è·çŠ¶æ…‹ã‚’å–å¾—ã§ãã‚‹. pingã®ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚Šã‚ˆã‚Šè©³ç´°ãªçŠ¶æ…‹ãŒå–ã‚Œã‚‹.

-   GET /v1/gethealth: å–å¼•æ‰€ã®çŠ¶æ…‹
-   GET /v1/getboardstate: æ¿ã®çŠ¶æ…‹


### é€šä¿¡ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¯¾ç­– {#68d019}

é€šä¿¡ã‚¨ãƒ©ãƒ¼ã«å¯¾ã—ã¦ã¯é€šä¿¡ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®å€¤ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®10ç§’ã‹ã‚‰30ç§’ã«ä¼¸ã°ã—ãŸã‚‰åŠ¹æœãŒã‚ã£ãŸã¨ã®å£ã‚³ãƒŸã‚ã‚Š.

[BitflyerFXã§æ³¨æ–‡ãŒæ¶ˆãˆãŸã‚Šã€ç´„å®šæ‹’å¦ã‚„äºŒé‡æ³¨æ–‡ã«ãªã‚‹å ´åˆã®å¯¾ç­–ã‚³ãƒ¼ãƒ‰ ](https://ryota-trade.com/?p=5110)

ccxtã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå€¤ã¯10ç§’ã‚‰ã—ã„(ã‚½ãƒ¼ã‚¹æœªç¢ºèª).

ref. [SocketTimeout/Connection Timeout/Connection Request Timeout]({{< relref "20220802090757.md#4ae2976a-e725-412e-aca9-d3e5ba435537" >}})


## ğŸ’¡bitFlyer Insights {#7b641a}

bitFlyerã«ã¤ã„ã¦ã®è€ƒå¯Ÿ. æ¨æ¸¬ãªã®ã§ã“ã‚ŒãŒçœŸã§ã‚ã‚‹ã¨ã¯é™ã‚‰ãªã„.


## <span class="org-todo todo _">ğŸ”—</span> References {#d95867}

é¡ŒæãŒbitFlyerãªã®ã§bitFlyerå›ºæœ‰ã®èª²é¡Œã«å¯¾ã—ã¦ãƒ’ãƒ³ãƒˆãŒå¾—ã‚‰ã‚Œã‚‹.

-   [æ–‡ç³»ã§ã‚‚ã‚ã‹ã‚‹ï¼Bitcoinã®BOTè‡ªå‹•å£²è²·ãƒˆãƒ¬ãƒ¼ãƒ‰ã®å§‹ã‚æ–¹ | Just another WordPress site](https://ryota-trade.com/)
-   [bitFlyer FXã®ç´„å®šå±¥æ­´ã‹ã‚‰æç›Šã‚°ãƒ©ãƒ•ã‚’æãpythonãƒ—ãƒ­ã‚°ãƒ©ãƒ  - ã‚­ã‚¸ãƒˆãƒ©ã®ãƒ–ãƒ­ã‚°](https://kijitora-2018.hatenablog.com/entry/2019/03/21/120455)
-   [[äºŒåˆ†æ¢ç´¢]å°‘ãªã„APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã§åŠ¹ç‡çš„ã«bitFlyerç´„å®šå±¥æ­´ã‚’æ¤œç´¢ã™ã‚‹ï½œNagiï½œnote](https://note.com/nagi7692/n/ne8cbeb6d12fa)
