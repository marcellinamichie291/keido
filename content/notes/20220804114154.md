+++
title = "ğŸ“Clojure Number"
lastmod = 2022-10-01T08:39:49+09:00
tags = ["WIKI"]
draft = false
+++

-   up: [ğŸ“Clojure ãƒ•ã‚©ãƒ¼ãƒ ]({{< relref "20220505210059.md" >}})


## Overview {#3b8782}

Clojureã«ãŠã‘ã‚‹æ•°å€¤åŠã³æ¼”ç®—ã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‹.

Clojureã¯Javaã®ãƒ©ãƒƒãƒ‘ãƒ¼ã®ãŸã‚, ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¨ã—ã¦[ğŸ“Java Number]({{< relref "20220804115214.md" >}})ã®çŸ¥è­˜ãŒã»ã—ã„.


## java.lang.Math Interop {#5cb533}

åŸºæœ¬æˆ¦ç•¥ã¨ã—ã¦Java.lang.Mathã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹é–¢æ•°ãŒå½¹ã«ç«‹ã¡, ã“ã‚Œã‚‰ã®ç›´å‘¼ã³ã¯æ‚ªããªã„. çµå±€Clojureã‚‚Javaã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã«éããªã„.

<https://docs.oracle.com/javase/jp/8/docs/api/java/lang/Math.html>

Clojureã¯clojure.math namespaceã«java8ã®Mathé–¢é€£ã®wrapperãŒã‚ã‚‹ãŒ, ã“ã‚Œã¯å…¨ã¦ç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹ã®ã‹ãªï¼Ÿ

<https://clojure.github.io/clojure/clojure.math-api.html>

Clojureã§ã¯defaultã§java.langé…ä¸‹ã¯includeã•ã‚Œã¦ã„ã‚‹ãŸã‚, Mathã‚’å‘¼ã³å‡ºã™ã«ã¯ **Math/xxx** ã§ã„ã‘ã‚‹.


## Basics {#bbc910}


### æ•´æ•° {#b5f1a7}


### æµ®å‹•å°æ•°ç‚¹æ•° {#dc1212}

Clojureã§æ‰±ãˆã‚‹å‹ã¯Javaã®Doubleå‹ã¨[BigDecimal]({{< relref "20220804115214.md#6ce98981-f7d8-46a5-a48e-7d6e072433f3" >}})å‹.

åŸºæœ¬çš„ã«ã¯Doubleå‹ã‚’ã¤ã‹ã†ã“ã¨ã«ãªã‚Š, ç²¾åº¦ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆã®ã¿BigDecimalã‚’ã¤ã‹ã†. æ•°å€¤ã®æœ«å°¾ã« **M** ãŒã¤ãã¨BigDecimalå‹. ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹. ãã†ã§ãªã‘ã‚Œã°Doubleå‹.


## è¨ˆç®—Basics {#dde692}

åŸºç¤çš„ãªè¨ˆç®—ã¾ã¨ã‚.

é«˜åº¦ãªè©±é¡Œã¯[ğŸ“Clojure Data Science]({{< relref "20220324181510.md" >}})ã¸.


### å•†ã¨ä½™ã‚Š {#453e62}

Clojureã«ãŠã„ã¦ **/** ã‚’ã¤ã‹ã£ã¦è¨ˆç®—ã—ã¦ã‚‚è©•ä¾¡ã‚’ã•ã‚Œãªã„. Ratioã¨ã„ã†ãƒ‡ãƒ¼ã‚¿å‹ã«æ ¼ç´ã•ã‚Œã¦è©•ä¾¡ã‚’å¾…ã£ã¦ã„ã‚‹ã ã‘. è©•ä¾¡ã‚’å¼·åˆ¶ã™ã‚‹ã«ã¯å°æ•°ç‚¹ã‚’ã¤ã‘ã‚‹.

```clojure
(/ 22 7.0)
```


### å¯¾æ•° {#ee7811}

Math/log, Math/log10ã‚’ã¤ã‹ã†.


### æŒ‡æ•° {#a225c0}

Math/expã‚’ã¤ã‹ã†.


### ã¹ãä¹— {#15dc70}

Math/powã‚’ã¤ã‹ã†.

```clojure
(def e10 (Math/pow 10 -10))
```


## Cookbook {#8933a2}


### æ•´æ•°ã«ä¸¸ã‚ã‚‹ {#394301}

javaã®Math/round, Math/ceil, Math/floorãŒç°¡å˜.

roundã¯intå‹, ceil/floorã¯doubleå‹ã«ãªã‚‹ã“ã¨ã«æ³¨æ„.


### å°æ•°ç‚¹ä»¥ä¸‹ã‚’ä¸¸ã‚ã‚‹æ–¹æ³•(round) {#bb9ed3}

ref. [clojure-cookbook/1-16_rounding.asciidoc at master Â· clojure-cookbook/clojure-cookbook Â· GitHub](https://github.com/clojure-cookbook/clojure-cookbook/blob/master/01_primitive-data/1-16_rounding.asciidoc)

å˜ã«ãƒ­ã‚°å‡ºåŠ›ã®ãŸã‚ãªã‚‰ã° [clojure.core/format]({{< relref "20220428163355.md#42568e0a-9130-4c7c-86c2-ec92e73c039b" >}}) ã‚’ã¤ã‹ã†ã®ãŒã„ã„.

```clojure
(format "%.2f" x)
```

ã•ã‚‰ã«ãã‚Œã‚’parseDoubleã§Doubleã«å¤‰æ›.

```clojure
(Double/parseDouble (format "%.2f" 0.009) )
```
